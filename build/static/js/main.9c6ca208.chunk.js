(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{491:function(e,t,a){},492:function(e,t,a){},494:function(e,t){},545:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/isotipoAmbiensa.deb91b40.png"},615:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(31),o=a.n(r),c=(a(491),a(3)),s=a(4),l=(a(492),a(267)),d=a(317),u=a(322),j=a(658),b=a(656),p=(a(433),a(660),a(621)),O=a(37),h=a(655),f=a(652),m=a(100),x=a(414),g=a(428),y=a.n(g),v=a(682),C=a(419),S=a.n(C),k=a(618),w=a(619),A=a(430),N=a.n(A),z=a(429),R=a.n(z),B=a(653),T=a(388),I=a(654),L=a(266),_=a.n(L),F=a(333),E=a.n(F),P=a(318),D=a.n(P),W=a(54),U=a(221),M=a.n(U),J=a(427),G=a.n(J),q=a(422),H=a.n(q),V=a(426),$=a.n(V),Y=a(616),Z="http://https://shrouded-brook-95413.herokuapp.com/api/v1/",K="http://https://shrouded-brook-95413.herokuapp.com/",X=a(420),Q=a.n(X),ee=a(92),te=a(218),ae=a(17),ne=a(33),ie=Object(n.createContext)(),re=a(493),oe="86758576376418652952657157128997";function ce(e){return re.AES.decrypt(e,oe).toString(re.enc.Utf8)}var se=a(332),le=a.n(se),de=a(423),ue=a.n(de),je=a(283),be=a.n(je),pe=a(421),Oe=a.n(pe),he=a(52),fe=function(e,t,a,n){var i=a.cargarUsuario,r=(a.playSound,a.mostrarNotificacion),o=a.mostrarLoader,c={email:e,password:t},s={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/auth/login",data:c,body:c,headers:{Accept:"application/json"}};o(!0),he(s).then((function(e){var t,a=e.data;if("error"!=a.type){var n={user:a.user,token:a.token},c=(t=JSON.stringify(n),re.AES.encrypt(t,oe).toString());i(c),function(e){localStorage.setItem("auth",e)}(c),o(!1),r({type:"success",message:a.message}),window.location.href="/panel"}else r({type:"error",message:a.message}),o(!1)})).catch((function(e){o(!1)}))},me=function(e){var t=e.usuario,a=e.logout,n=e.mostrarNotificacion,i=(e.playSound,e.mostrarLoader),r={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/auth/logout",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(t)).token}};i(!0),he(r).then((function(e){a(),localStorage.removeItem("auth"),n({type:"success",message:e.data.message}),i(!1),window.location.href="/login"})).catch((function(e){i(!1);e.data}))},xe=a(424),ge=a.n(xe),ye=a(473),ve=a(53),Ce=a.n(ve),Se=a(425),ke=a.n(Se),we=a.p+"static/media/logo2.a39a81c1.jpg",Ae=a(52),Ne=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/roles",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Ae(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.roles)})).catch((function(e){}))},ze=a(52),Re=function(e,t,a,n){var i=a.usuario,r=a.mostrarNotificacion,o=a.mostrarLoader,c={method:"PUT",url:Z+"users/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),ze(c).then((function(e){var t=e.data;"error"!=t.type?(o(!1),r({type:"success",message:t.message}),n()):(r({type:"error",message:t.message}),o(!1),n())})).catch((function(e){o(!1),n(),r({type:"error",message:e.message})}))},Be=function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion),r=t.mostrarLoader,o={method:"DELETE",url:Z+"users/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),ze(o).then((function(e){var t=e.data;"error"!=e.data.type?(r(!1),i({type:"success",message:t.message}),a()):(r(!1),i({type:"error",message:t.message}))})).catch((function(e){r(!1),i({type:"success",message:e.message})}))},Te=function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/users",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),ze(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:"Ha ocurrido un error, revise los campos"}),r(!1),a())})).catch((function(e){r(!1),i({type:"error",message:e.message}),a()}))},Ie=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/users",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});ze(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Le=a(1),_e=Object(te.a)((function(e){var t,a;return a={inputRoot:{color:"inherit"},inputInput:Object(O.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),search:Object(O.a)({height:45,borderWidth:1,borderStyle:"solid",borderColor:"rgba(0, 0, 0, 0.12)",position:"relative",borderRadius:10,backgroundColor:Object(ae.a)(e.palette.common.white,.15),"&:hover":{borderColor:"rgb(30, 136, 229)",borderWidth:1,borderStyle:"solid"},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",color:"gray",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}},Object(O.a)(a,"inputRoot",{color:"inherit",height:"100%"}),Object(O.a)(a,"root",(t={},Object(O.a)(t,e.breakpoints.up("sm"),{display:"flex"}),Object(O.a)(t,"overflow","hidden"),t)),Object(O.a)(a,"nested",{paddingLeft:e.spacing(4)}),Object(O.a)(a,"avatar",{margin:e.spacing(2),width:e.spacing(10),height:e.spacing(10)}),Object(O.a)(a,"menuButton",Object(O.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"})),Object(O.a)(a,"toolbar",e.mixins.toolbar),Object(O.a)(a,"drawerPaper",{width:240}),Object(O.a)(a,"content",{flexGrow:1,padding:e.spacing(3)}),Object(O.a)(a,"grow",{flexGrow:1}),a}));var Fe=function(e){var t=e.window,a=Object(W.g)(),r=Object(W.h)(),o=_e(),s=Object(ne.a)(),u=i.a.useState(!1),j=Object(c.a)(u,2),p=j[0],O=j[1],g=i.a.useState(!1),C=Object(c.a)(g,2),A=C[0],z=C[1],L=(Object(Y.a)(s.breakpoints.down("sm")),i.a.useState(!1)),F=Object(c.a)(L,2),P=F[0],U=F[1],J=i.a.useState(null),q=Object(c.a)(J,2),V=(q[0],q[1],i.a.useState(null)),K=Object(c.a)(V,2),X=K[0],te=K[1],ae=i.a.useState(null),re=Object(c.a)(ae,2),oe=(re[0],re[1],i.a.useState("")),se=Object(c.a)(oe,2),de=se[0],je=se[1],pe=i.a.useState([]),fe=Object(c.a)(pe,2),xe=fe[0],ve=fe[1],Se=i.a.useState(""),Ne=Object(c.a)(Se,2),Re=Ne[0],Be=Ne[1],Te=Object(n.useContext)(ie);i.a.useEffect((function(){null!=Te.usuario&&(function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/user",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});he(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))}(te,Te),function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion),r=a.mostrarLoader,o={method:"GET",url:Z+"user/role?user_id="+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),ze(o).then((function(e){var a=e.data;"error"!=a.type?(t(a.role),r(!1)):(i({type:"error",message:a.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}(JSON.parse(ce(Te.usuario)).user.id,Be,Te),function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/permission/user",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Ae(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.permisos)})).catch((function(e){}))}(ve,Te))}),[Te.usuario]),i.a.useEffect((function(){null!=X&&je(X.names+" "+X.last_names)}),[X]);var Ie=function(){U(!P)},Fe=function(e){return r.pathname==e||"/evaluacion"==r.pathname&&"/evaluaciones"==e?{backgroundColor:"#EDE7F6",borderRadius:7,color:"#6645B3",marginRight:5,marginLeft:5}:{borderRadius:7,marginRight:5,marginLeft:5}},Ee=Object(Le.jsxs)("div",{children:[Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(Le.jsx)(v.a,{size:"",className:o.avatar,src:we}),Object(Le.jsx)(ee.a,{variant:"subtitle1",style:{fontSize:15,color:"#929396"},children:Re}),Object(Le.jsx)("div",{style:{width:"150px",whiteSpace:"nowrap",overflow:"hidden",textAlign:"center",textOverflow:"ellipsis"},children:Object(Le.jsx)(ee.a,{variant:"subtitle1",style:{fontSize:15,color:"#929396"},children:de})})]}),Object(Le.jsx)(f.a,{}),Object(Le.jsxs)("div",{style:{justifyContent:"space-between",flexDirection:"column",display:"flex"},children:[Object(Le.jsxs)(k.a,{style:{padding:10},children:[Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("panel")},style:Fe("/panel"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(S.a,{})," "]}),Object(Le.jsx)(T.a,{primary:"Dashboard"})]}),xe.includes("Ventas")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/facturas")},style:Fe("/facturas"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(be.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Ventas"})]}),xe.includes("Compras")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/compras")},style:Fe("/compras"),children:[Object(Le.jsx)(B.a,{style:{color:"inherit"},children:Object(Le.jsx)(be.a,{})}),Object(Le.jsx)(T.a,{primary:"Compras"})]}),xe.includes("Caja")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/cajas")},style:Fe("/cajas"),children:[Object(Le.jsx)(B.a,{style:{color:"inherit"},children:Object(Le.jsx)(le.a,{})}),Object(Le.jsx)(T.a,{primary:"Caja"})]}),xe.includes("Clientes")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/clientes")},style:Fe("/clientes"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(M.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Clientes"})]}),xe.includes("Inventario")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){O(!p)},style:Fe("/inventario"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(Q.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Inventario"}),p?Object(Le.jsx)(E.a,{}):Object(Le.jsx)(_.a,{})]}),xe.includes("Inventario")&&Object(Le.jsx)(I.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(Le.jsxs)(k.a,{component:"div",disablePadding:!0,children:[Object(Le.jsxs)(w.a,{button:!0,className:o.nested,onClick:function(){return e.history.push("/inventario/productos")},children:[Object(Le.jsx)(B.a,{children:Object(Le.jsx)(be.a,{})}),Object(Le.jsx)(T.a,{primary:"Productos"})]}),Object(Le.jsxs)(w.a,{button:!0,className:o.nested,onClick:function(){return e.history.push("/inventario/kardex")},children:[Object(Le.jsx)(B.a,{children:Object(Le.jsx)(le.a,{})}),Object(Le.jsx)(T.a,{primary:"Kardex"})]})]})}),xe.includes("Ajuste")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/inventario/ajustes")},style:Fe("/inventario/ajustes"),children:[Object(Le.jsx)(B.a,{style:{color:"inherit"},children:Object(Le.jsx)(Oe.a,{})}),Object(Le.jsx)(T.a,{primary:"Ajuste"})]}),xe.includes("Proveedores")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/inventario/proveedores")},style:Fe("/inventario/proveedores"),children:[Object(Le.jsx)(B.a,{style:{color:"inherit"},children:Object(Le.jsx)(H.a,{})}),Object(Le.jsx)(T.a,{primary:"Proveedores"})]}),xe.includes("Laboratorios")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/laboratorios")},style:Fe("/laboratorios"),children:[Object(Le.jsx)(B.a,{style:{color:"inherit"},children:Object(Le.jsx)(ue.a,{})}),Object(Le.jsx)(T.a,{primary:"Laboratorios"})]}),xe.includes("Ubicaciones")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return z(!A)},style:Fe("/ubicaciones"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(ge.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Ubicaciones"}),A?Object(Le.jsx)(E.a,{}):Object(Le.jsx)(_.a,{})]}),xe.includes("Ubicaciones")&&Object(Le.jsx)(I.a,{in:A,timeout:"auto",unmountOnExit:!0,children:Object(Le.jsx)(k.a,{component:"div",disablePadding:!0,children:Object(Le.jsxs)(w.a,{button:!0,className:o.nested,onClick:function(){return e.history.push("/zonas")},children:[Object(Le.jsx)(B.a,{children:Object(Le.jsx)(ke.a,{})}),Object(Le.jsx)(T.a,{primary:"Zonas"})]})})}),xe.includes("Personal")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/personal")},style:Fe("/personal"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(M.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Personal"})]}),xe.includes("Roles")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/roles")},style:Fe("/roles"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)($.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Roles"})]}),xe.includes("Reporte")&&Object(Le.jsxs)(w.a,{button:!0,onClick:function(){return e.history.push("/reporte")},style:Fe("/reporte"),children:[Object(Le.jsxs)(B.a,{style:{color:"inherit"},children:[Object(Le.jsx)(G.a,{style:{color:"inherit"}})," "]}),Object(Le.jsx)(T.a,{primary:"Reporte"})]})]}),Object(Le.jsxs)("div",{children:[Object(Le.jsx)(f.a,{}),Object(Le.jsx)(k.a,{children:Object(Le.jsxs)(w.a,{button:!0,onClick:function(){me(Te)},children:[Object(Le.jsxs)(B.a,{children:[Object(Le.jsx)(y.a,{})," "]}),Object(Le.jsx)(T.a,{primary:"Salir"})]})})]})]})]}),Pe=void 0!==t?function(){return t().document.body}:void 0;return console.log(a),Object(Le.jsxs)("div",{className:o.root,children:[Object(Le.jsx)(h.a,{}),"/bienvenida"!=a.location.pathname&&"/login"!=a.location.pathname?Object(Le.jsxs)(i.a.Fragment,{children:[Object(Le.jsx)(b.a,{position:"fixed",className:o.appBar,color:"white",elevation:0,style:{border:"1px solid rgba(0, 0, 0, 0.12)"},children:Object(Le.jsxs)(d.a,{children:[Object(Le.jsx)(l.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:Ie,children:Object(Le.jsx)(D.a,{})}),Object(Le.jsxs)("div",{className:o.search,children:[Object(Le.jsx)("div",{className:o.searchIcon,children:Object(Le.jsx)(Ce.a,{})}),Object(Le.jsx)(ye.a,{placeholder:"Search\u2026",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"}})]}),Object(Le.jsx)("div",{className:o.grow}),Object(Le.jsx)(v.a,{variant:"rounded",style:{marginTop:5,backgroundColor:"#e3f2fd",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(l.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(Le.jsx)(R.a,{style:{color:"#1e88e5"}})})}),Object(Le.jsx)(v.a,{variant:"rounded",style:{marginLeft:10,marginTop:5,backgroundColor:"#ede7f6",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(l.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(Le.jsx)(N.a,{style:{color:"#5e35b1"}})})})]})}),Object(Le.jsx)("nav",{className:o.drawer,"aria-label":"mailbox folders",children:Object(Le.jsx)(x.a,{implementation:"css",children:Object(Le.jsx)(m.a,{container:Pe,variant:"temporary",anchor:"rtl"===s.direction?"right":"left",open:P,onClose:Ie,classes:{paper:o.drawerPaper},ModalProps:{keepMounted:!0},children:Ee})})})]}):null,Object(Le.jsxs)("main",{className:null!=a&&"/bienvenida"!=a.location.pathname?o.content:"",children:[Object(Le.jsx)("div",{className:o.toolbar}),e.children]})]})},Ee=(a(475),a(312)),Pe=(a(545),a(140)),De=(a(321),a(431),a(432),a(659));a(624);var We=a(147),Ue=a(664),Me=a(676),Je=a(679),Ge=a(408),qe=a(661),He=a(662),Ve=(a.p,a.p,a(389));function $e(e){var t,a=i.a.useContext(ie),n=i.a.useState(""),r=Object(c.a)(n,2),o=r[0],s=r[1],l=i.a.useState(""),d=Object(c.a)(l,2),j=d[0],b=d[1],p=i.a.useState(""),h=Object(c.a)(p,2),f=h[0],m=h[1],x=i.a.useState(""),g=Object(c.a)(x,2),y=g[0],v=g[1];return Object(Le.jsxs)("form",{className:e.classes.form,noValidate:!0,children:[Object(Le.jsx)(Ve.a,(t={variant:"outlined",style:{marginBottom:10,marginTop:10},required:!0},Object(O.a)(t,"style",{marginBottom:10}),Object(O.a)(t,"id","email"),Object(O.a)(t,"size","small"),Object(O.a)(t,"label","Nombres"),Object(O.a)(t,"name","email"),Object(O.a)(t,"value",o),Object(O.a)(t,"onChange",(function(e){return s(e.target.value)})),t)),Object(Le.jsx)(Ve.a,{variant:"outlined",required:!0,style:{marginBottom:10},size:"small",id:"email",label:"Apellidos",name:"email",value:j,onChange:function(e){return b(e.target.value)}}),Object(Le.jsx)(Ve.a,{variant:"outlined",style:{marginBottom:10},size:"small",required:!0,id:"email",label:"Correo electr\xf3nico",name:"email",value:f,onChange:function(e){return m(e.target.value)}}),Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",required:!0,value:y,onChange:function(e){return v(e.target.value)},name:"password",label:"Contrase\xf1a",type:"password",id:"password"}),Object(Le.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(){!function(e,t,a){a.cargarUsuario,a.playSound;var n=a.mostrarNotificacion,i=a.mostrarLoader,r={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/users",data:e,body:e,headers:{Accept:"application/json"}};i(!0),he(r).then((function(e){var a=e.data;"error"!=a.type?(i(!1),n({type:"success",message:a.message}),t(0)):(n({type:"error",message:a.message}),i(!1))})).catch((function(e){i(!1)}))}({names:o,last_names:j,email:f,password:y},e.setTab,a)},className:e.classes.submit,children:"Registrate ahora"})]})}var Ye=a(323),Ze=a(324),Ke=a(632),Xe=a(390),Qe=a(435),et=a.n(Qe),tt=a(436),at=a.n(tt),nt=Object(te.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),width:e.spacing(10),height:e.spacing(10)},form:{width:"100%",display:"flex",flexDirection:"column",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function it(e){var t=i.a.useContext(ie),a=nt(),n=i.a.useState(!1),r=Object(c.a)(n,2),o=r[0],s=r[1],d=i.a.useState(""),j=Object(c.a)(d,2),b=j[0],p=j[1],O=i.a.useState(""),h=Object(c.a)(O,2),f=h[0],m=h[1];i.a.useEffect((function(){null!=t.usuario&&(window.location.href="/panel")}),[t.usuario]);var x=function(){fe(b,f,t)};return Object(Le.jsx)("form",{noValidate:!0,children:Object(Le.jsxs)("div",{className:a.paper,children:[Object(Le.jsx)(v.a,{size:"",className:a.avatar,src:we}),Object(Le.jsx)(ee.a,{component:"h1",variant:"h5",children:"Iniciar sesi\xf3n"}),Object(Le.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(Le.jsx)(Ve.a,{variant:"outlined",fullWidth:!0,required:!0,margin:"normal",id:"email",label:"Correo electr\xf3nico",name:"email",value:b,onChange:function(e){return p(e.target.value)}}),Object(Le.jsxs)(Ye.a,{variant:"outlined",style:{width:"100%",marginTop:10},children:[Object(Le.jsx)(Ze.a,{htmlFor:"outlined-adornment-password",children:"Contrase\xf1a"}),Object(Le.jsx)(Ke.a,{id:"outlined-adornment-password",type:o?"text":"password",value:f,onChange:function(e){m(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&x()},endAdornment:Object(Le.jsx)(Xe.a,{position:"end",children:Object(Le.jsx)(l.a,{"aria-label":"toggle password visibility",onClick:function(){return s(!o)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:o?Object(Le.jsx)(et.a,{}):Object(Le.jsx)(at.a,{})})}),label:"Contrase\xf1a"})]}),Object(Le.jsx)(u.a,{onClick:x,fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Iniciar Sesi\xf3n Ahora"})]})]})})}function rt(){return Object(Le.jsxs)(ee.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Le.jsx)(qe.a,{color:"inherit",children:"Natural System"})," ",(new Date).getFullYear(),"."]})}var ot=Object(te.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",display:"flex",flexDirection:"column",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ct(e){var t=e.location.state,a=Object(ne.a)(),n=(Object(Y.a)(a.breakpoints.down("sm")),ot(),i.a.useState(0)),r=Object(c.a)(n,2),o=r[0],s=r[1];return i.a.useEffect((function(){console.log(t),void 0!=t&&t.hasOwnProperty("register")&&s(1)}),[t]),Object(Le.jsxs)(He.a,{component:"main",maxWidth:"xs",children:[0==o?Object(Le.jsx)(it,{}):Object(Le.jsx)($e,{}),Object(Le.jsx)(Ee.a,{mt:8,children:Object(Le.jsx)(rt,{})})]})}a(470);var st,lt=a(670),dt=a(672),ut=a(225),jt=a.n(ut),bt=a(438),pt=a.n(bt),Ot=a(446),ht=a.n(Ot),ft=a(439),mt=a.n(ft),xt=a(445),gt=a.n(xt),yt=a(335),vt=a.n(yt),Ct=a(334),St=a.n(Ct),kt=a(440),wt=a.n(kt),At=a(441),Nt=a.n(At),zt=a(272),Rt=a.n(zt),Bt=a(443),Tt=a.n(Bt),It=a(444),Lt=a.n(It),_t=a(447),Ft=a.n(_t),Et=a(442),Pt=a.n(Et),Dt=a(461),Wt=a.n(Dt),Ut=a(448),Mt=a.n(Ut),Jt=a(449),Gt=a.n(Jt),qt=a(450),Ht=a.n(qt),Vt=a(451),$t=a.n(Vt),Yt=a(452),Zt=a.n(Yt),Kt=a(326),Xt=a.n(Kt),Qt=a(453),ea=a.n(Qt),ta=a(454),aa=a.n(ta),na=a(437),ia=a.n(na),ra=a(455),oa=a.n(ra),ca=a(456),sa=a.n(ca),la=a(457),da=a.n(la),ua=a(48),ja=a.n(ua),ba=a(458),pa=a.n(ba),Oa=a(459),ha=a.n(Oa),fa=a(460),ma=a.n(fa),xa=a(273),ga=a.n(xa),ya={RefreshIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ia.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Add:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(pt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(mt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(St.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(wt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(vt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Nt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Pt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Rt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Tt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Lt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(vt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(gt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(St.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Ce.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ht.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Ft.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Mt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),LibraryAddCheckIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Gt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),IndeterminateCheckBoxIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Ht.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),ImportExportIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)($t.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),VisibilityOutlinedIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Xt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),MailOutlineIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Zt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),AssignmentIndIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ea.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),TelegramIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(aa.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),FormatListNumberedRtlIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(oa.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),PaymentIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(sa.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),GetAppIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(da.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),AutorenewIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ja.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),PhoneInTalkIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(pa.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),EventIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ha.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),AccountCircleIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ma.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),SaveIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(Wt.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))})),MonetizationOnIcon:Object(n.forwardRef)((function(e,t){return Object(Le.jsx)(ga.a,Object(s.a)(Object(s.a)({},e),{},{ref:t}))}))},va=(st={pagination:{labelDisplayedRows:"{from}-{to} of {count}"},toolbar:{nRowsSelected:"{0} fila(s) seleccionada",searchPlaceholder:"Buscar"}},Object(O.a)(st,"pagination",{labelRowsSelect:"filas"}),Object(O.a)(st,"header",{actions:""}),Object(O.a)(st,"body",{emptyDataSourceMessage:"No hay datos por mostrar",filterRow:{filterTooltip:"Filter"}}),st),Ca=a(29),Sa=a.n(Ca),ka=a(52),wa=function(e,t,a,n){var i=a.usuario,r=a.mostrarNotificacion,o=a.mostrarLoader,c={method:"PUT",url:Z+"products/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),ka(c).then((function(e){var t=e.data;"error"!=t.type?(o(!1),r({type:"success",message:t.message}),n()):(r({type:"error",message:t.message}),o(!1))})).catch((function(e){o(!1),r({type:"error",message:e.message})}))},Aa=function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion),r=t.mostrarLoader,o={method:"DELETE",url:Z+"products/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),ka(o).then((function(e){var t=e.data;"error"!=e.data.type?(r(!1),i({type:"success",message:t.message}),a()):(r(!1),i({type:"error",message:t.message}))})).catch((function(e){r(!1),i({type:"success",message:e.message})}))},Na=function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o=new FormData;for(var c in e)o.append(c,e[c]);var s={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/products",data:o,body:o,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),ka(s).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))},za=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/inventories",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});ka(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Ra=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/products",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});ka(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Ba=a(665),Ta=a(667),Ia=a(666),La=a(673),_a=a(674),Fa=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ea(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(""),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(""),O=Object(c.a)(p,2),h=O[0],f=O[1];i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.name),b(e.sistema.url),f(e.sistema.description))}),[e.sistema]);var m=function(){o(""),b(""),f(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Fa,keepMounted:!0,onClose:function(){e.setOpen(!1),m()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Sistemas"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de sistema":"Formulario de creaci\xf3n de sistema"}),Object(Le.jsxs)(j.a,{container:!0,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{marginBottom:10,width:"100%"},size:"small",label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{marginBottom:10,width:"100%"},size:"small",label:"Url",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{marginBottom:10,width:"100%"},label:"Descripci\xf3n",value:h,onChange:function(e){return f(e.target.value)}})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){null==e.sistema?(Na({name:r,url:d,description:h},t),m()):(wa(e.sistema.id,{name:r,url:d,description:h},t),m()),e.setOpen(!1),e.carga()},children:"Guardar"})]})]})}var Pa=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Da(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Pa,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Sistemas"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Aa(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var Wa=a(52),Ua=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/clients",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Wa(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Ma=a(137),Ja=a.n(Ma);function Ga(e){var t=Object(n.useState)([{name:"Monto ($)",data:e.monto},{name:"N\xfamero",data:e.cantidad}]),a=Object(c.a)(t,2),i=a[0],r=(a[1],Object(n.useState)({chart:{height:350,type:"bar",zoom:{enabled:!0,type:"x",resetIcon:{offsetX:-10,offsetY:0,fillColor:"#fff",strokeColor:"#37474F"},selection:{background:"#90CAF9",border:"#0D47A1"}}},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(e){return e},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:e.meses,position:"top",axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(e){return e+"%"}}},title:{text:e.text,offsetY:0,align:"center",style:{color:"#444"}}})),o=Object(c.a)(r,2),s=o[0];o[1];return Object(Le.jsx)(Ja.a,{height:240,width:"100%",options:s,series:i,type:"bar"})}function qa(e){var t=Object(n.useState)([{name:"Monto ($)",data:[e.factura,e.caja]}]),a=Object(c.a)(t,2),i=a[0],r=(a[1],Object(n.useState)({chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:["Ventas","Caja"]},title:{text:e.text,offsetY:0,align:"center",style:{color:"#444"}}})),o=Object(c.a)(r,2),s=o[0];o[1];return Object(Le.jsx)(Ja.a,{height:240,width:"100%",options:s,series:i,type:"bar"})}function Ha(e){var t=Object(n.useState)([e.compras,e.ventas]),a=Object(c.a)(t,2),i=a[0],r=(a[1],Object(n.useState)({chart:{width:380,type:"pie"},labels:["Compras","Ventas"],title:{text:e.text,offsetY:0,align:"center",style:{color:"#444"}}})),o=Object(c.a)(r,2),s=o[0];o[1];return Object(Le.jsx)(Ja.a,{height:240,width:"100%",options:s,series:i,type:"pie"})}var Va=function(e){var t=null;if(null!=e){var a=e.getDate()<10?"0"+e.getDate():e.getDate(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;t=e.getFullYear()+"-"+n+"-"+a}return t},$a=a(681);a(52),a(52);var Ya=a(52),Za=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/invoices",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Ya(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))};var Ka=a.p+"static/media/noValue.30b18636.svg",Xa=a(52),Qa=function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion),r=a.mostrarLoader,o={method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/kpis",params:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Xa(o).then((function(e){var a=e.data;"error"!=a.type?(t(a.data),r(!1),i({type:"success",message:a.message})):(i({type:"error",message:a.message}),r(!1))})).catch((function(e){r(!1)}))},en=a(328),tn=a.n(en),an=a(466),nn=a.n(an),rn=a(465),on=a.n(rn),cn=a(464),sn=a.n(cn),ln=a(138),dn=a(211),un=a(683),jn=a(186),bn=a.n(jn),pn=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function On(e){var t=i.a.useState(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],o=function(){r(!1)};return Object(Le.jsxs)("div",{children:[Object(Le.jsx)(l.a,{"aria-label":"abrirmodal",onClick:function(){r(!0)},children:Object(Le.jsx)(sn.a,{})}),Object(Le.jsxs)(Ba.a,{open:n,TransitionComponent:pn,keepMounted:!0,onClose:o,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtros"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Seleccione el rango de fechas para filtrar."}),Object(Le.jsx)(u.a,{onClick:function(){e.setDesde(function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}()),e.setHasta(function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)}())},color:"default",variant:"outlined",children:"MES ACTUAL"})]}),Object(Le.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(Le.jsx)(dn.b,{style:{width:"100%"},utils:ln.default,locale:bn.a,children:Object(Le.jsx)(un.b,{autoOk:!0,ampm:!1,size:"small",inputVariant:"outlined",label:"Desde",style:{width:"100%"},format:"yyyy-MM-dd",value:e.desde,onChange:function(t){return e.setDesde(t)}})})}),Object(Le.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(Le.jsx)(dn.b,{utils:ln.default,locale:bn.a,children:Object(Le.jsx)(un.b,{autoOk:!0,ampm:!1,size:"small",inputVariant:"outlined",label:"Hasta",style:{width:"100%"},format:"yyyy-MM-dd",value:e.hasta,onChange:function(t){return e.setHasta(t)}})})})]})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:o,color:"primary",children:"Cancelar"}),Object(Le.jsx)(u.a,{onClick:function(){e.filtrarFecha(),o()},color:"primary",children:"Aceptar"})]})]})]})}var hn=a(52),fn=function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader),r="";0!=a.length&&a.map((function(e){r+="&"+e.tipo+"="+e.valor}));var o={method:"GET",url:Z+"reporte?tipo="+e+r,responseType:"blob",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};i(!0),hn(o).then((function(e){var t=e.data;if("error"!=e.data.type){var a=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"}));window.open(a,"_blank").focus(),i(!1)}else i(!1)})).catch((function(e){i(!1)}))},mn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader),i={method:"GET",url:Z+"print_invoice/"+e,responseType:"blob",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};n(!0),hn(i).then((function(e){var t=e.data;if("error"!=e.data.type){var a=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"}));window.open(a,"_blank").focus(),n(!1)}else n(!1)})).catch((function(e){n(!1)}))},xn=a(52),gn=function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/splits",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),xn(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1),a())})).catch((function(e){r(!1),i({type:"error",message:e.message})}))},yn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader),i={method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/splits",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};n(!0),xn(i).then((function(t){var a=t.data;"error"!=a.type?(e(a.data),n(!1)):n(!1)})).catch((function(e){n(!1)}))},vn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion),i=t.mostrarLoader,r={method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/cash",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),xn(r).then((function(t){var a=t.data;"error"!=a.type?(e(a.data),i(!1),n({type:"success",message:a.message})):(e(a.abierta),n({type:"error",message:a.message}),i(!1))})).catch((function(e){i(!1)}))},Cn=function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion),r=t.mostrarLoader,o={method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/cash_is_open",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),xn(o).then((function(t){var n=t.data;"error"!=n.type?(e(n.abierta),r(!1)):(e(n.abierta),a&&i({type:"error",message:n.message}),r(!1))})).catch((function(t){e(0),r(!1)}))};var Sn=Object(te.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},card:{backgroundColor:"#5e35b1",color:"#fff",overflow:"hidden",position:"relative","&:after":Object(O.a)({content:'""',position:"absolute",width:"210px",height:"210px",background:"#4527a0",borderRadius:"50%",top:"-85px",right:"-95px"},e.breakpoints.down("xs"),{top:"-105px",right:"-140px"}),"&:before":Object(O.a)({content:'""',position:"absolute",width:"210px",height:"210px",background:"#4527a0",borderRadius:"50%",top:"-125px",right:"-15px",opacity:.5},e.breakpoints.down("xs"),{top:"-155px",right:"-70px"})},card2:{backgroundColor:"#5e35b1",color:"#fff",overflow:"hidden",position:"relative","&:after":Object(O.a)({content:'""',position:"absolute",width:"210px",height:"210px",background:"#1565c0",borderRadius:"50%",top:"-85px",right:"-95px"},e.breakpoints.down("xs"),{top:"-105px",right:"-140px"}),"&:before":Object(O.a)({content:'""',position:"absolute",width:"210px",height:"210px",background:"#1565c0",borderRadius:"50%",top:"-125px",right:"-15px",opacity:.5},e.breakpoints.down("xs"),{top:"-155px",right:"-70px"})},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",display:"flex",flexDirection:"column",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function kn(e){var t=i.a.useContext(ie),a=Sn(),n=i.a.useState(null),r=Object(c.a)(n,2),o=r[0],s=r[1],d=i.a.useState([]),u=Object(c.a)(d,2),b=(u[0],u[1],i.a.useState(null)),p=Object(c.a)(b,2),O=p[0],h=p[1],f=i.a.useState(null),m=Object(c.a)(f,2),x=m[0],g=m[1],y=i.a.useState(!1),C=Object(c.a)(y,2),S=C[0],k=C[1],w=i.a.useState(!1),A=Object(c.a)(w,2),N=A[0],z=A[1],R=i.a.useState(null),B=Object(c.a)(R,2),T=B[0],I=B[1],L=i.a.useState(null),_=Object(c.a)(L,2),F=_[0],E=_[1],P=i.a.useState([]),D=Object(c.a)(P,2),W=(D[0],D[1],i.a.useState([])),U=Object(c.a)(W,2),J=(U[0],U[1],i.a.useState([])),G=Object(c.a)(J,2),q=(G[0],G[1],i.a.useState([])),H=Object(c.a)(q,2),V=(H[0],H[1],i.a.useState(0)),$=Object(c.a)(V,2),Y=($[0],$[1],i.a.useState([])),Z=Object(c.a)(Y,2),K=(Z[0],Z[1],i.a.useState("")),X=Object(c.a)(K,2),Q=(X[0],X[1],i.a.useState({ventas:[],cantidad:[],meses:[]})),te=Object(c.a)(Q,2),ae=te[0],ne=te[1],re=i.a.useState(null),oe=Object(c.a)(re,2),se=oe[0],le=oe[1],de=i.a.useState({ventas:[],compras:[]}),ue=Object(c.a)(de,2),je=ue[0],be=ue[1],pe=i.a.useState({factura:[],caja:[]}),Oe=Object(c.a)(pe,2),he=Oe[0],fe=Oe[1];i.a.useEffect((function(){null!=t.usuario&&(Qa({desde:Va(me()),hasta:Va(xe())},s,t),Cn(le,t,!1),function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader),i={method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/sales_purchases",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};n(!0),Xa(i).then((function(t){var a=t.data;"error"!=a.type?(e(a.data),n(!1)):n(!1)})).catch((function(e){n(!1)}))}(be,t),function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader),i={method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/sales_cash",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};n(!0),Xa(i).then((function(t){var a=t.data;"error"!=a.type?(e(a.data),n(!1)):n(!1)})).catch((function(e){n(!1)}))}(fe,t),function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/sales/last_months",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});hn(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))}(ne,t),h(me()),g(xe()))}),[t.usuario]);var me=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)},xe=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)},ge=function(){Qa(s,t),I(null),E(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Ea,{sistema:T,setSelected:I,setOpen:k,open:S,carga:ge}),Object(Le.jsx)(Da,{sistema:F,setOpen:z,open:N,carga:ge}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsxs)(ee.a,{variant:"h5",children:["Dashboard ",Object(Le.jsx)("span",{style:{color:"#4527a0"},children:"("+Va(O)+" hasta "+Va(x)+")"})]}),Object(Le.jsx)(On,{desde:O,hasta:x,setDesde:h,setHasta:g,filtrarFecha:function(){Qa({desde:Va(O),hasta:Va(x)},s,t)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsxs)(Je.a,{severity:"info",children:["Caja: ",0==se?"Cerrada":"Abierta"]})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:3,children:Object(Le.jsx)(lt.a,{class:a.card,style:{width:"100%",height:157,marginRight:20,marginBottom:5,backgroundColor:"#5e35b1",borderRadius:12},children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(v.a,{variant:"rounded",style:{zIndex:1,height:30,width:30,position:"absolute",top:15,right:10,backgroundColor:"#5e35b1",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(l.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(Le.jsx)(jt.a,{fontSize:"small"})})}),Object(Le.jsx)(v.a,{variant:"rounded",style:{marginTop:5,backgroundColor:"#4527a0",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(on.a,{})}),Object(Le.jsx)(ee.a,{variant:"h4",style:{color:"white",fontSize:"2.125rem"},children:null!=o?o.ventas:0}),Object(Le.jsx)(ee.a,{variant:"subtitle1",style:{color:"white"},gutterBottom:!0,children:"N\xfamero Ventas"})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:3,children:Object(Le.jsx)(lt.a,{class:a.card2,style:{width:"100%",height:157,marginRight:20,marginBottom:5,backgroundColor:"#1e88e5",borderRadius:12},children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(v.a,{variant:"rounded",style:{zIndex:1,height:30,width:30,position:"absolute",top:15,right:10,backgroundColor:"#1e88e5",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(l.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(Le.jsx)(jt.a,{fontSize:"small"})})}),Object(Le.jsx)(v.a,{variant:"rounded",style:{marginTop:5,backgroundColor:"#1565c0",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(nn.a,{})}),Object(Le.jsxs)(ee.a,{variant:"h4",style:{color:"white",fontSize:"2.125rem"},children:["$",null!=o?o.monto.toFixed(2):0]}),Object(Le.jsx)(ee.a,{variant:"subtitle1",style:{color:"white"},gutterBottom:!0,children:"Total ventas"})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:3,children:Object(Le.jsx)(lt.a,{class:a.card,style:{width:"100%",height:157,marginRight:20,marginBottom:5,backgroundColor:"#5e35b1",borderRadius:12},children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(v.a,{variant:"rounded",style:{zIndex:1,height:30,width:30,position:"absolute",top:15,right:10,backgroundColor:"#5e35b1",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(l.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(Le.jsx)(jt.a,{fontSize:"small"})})}),Object(Le.jsx)(v.a,{variant:"rounded",style:{marginTop:5,backgroundColor:"#4527a0",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(tn.a,{})}),Object(Le.jsx)(ee.a,{variant:"h4",style:{color:"white",fontSize:"2.125rem"},children:null!=o?o.clientes:0}),Object(Le.jsx)(ee.a,{variant:"subtitle1",style:{color:"white"},gutterBottom:!0,children:"N\xfamero clientes"})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:3,children:Object(Le.jsx)(lt.a,{class:a.card,style:{width:"100%",height:157,marginRight:20,marginBottom:5,backgroundColor:"#1e88e5",borderRadius:12},children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(v.a,{variant:"rounded",style:{zIndex:1,height:30,width:30,position:"absolute",top:15,right:10,backgroundColor:"#1e88e5",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(l.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(Le.jsx)(jt.a,{fontSize:"small"})})}),Object(Le.jsx)(v.a,{variant:"rounded",style:{marginTop:5,backgroundColor:"#1565c0",borderRadius:5,marginBottom:15},children:Object(Le.jsx)(M.a,{})}),Object(Le.jsx)(ee.a,{variant:"h4",style:{color:"white",fontSize:"2.125rem"},children:null!=o?o.proveedores:0}),Object(Le.jsx)(ee.a,{variant:"subtitle1",style:{color:"white"},gutterBottom:!0,children:"N\xfamero proveedores"})]})})})]})}),Object(Le.jsx)(j.a,{item:!0,md:12,xs:12,children:Object(Le.jsx)("div",{style:{marginTop:15},children:0!=ae.ventas.length&&0!=ae.cantidad.length&&0!=ae.meses.length?Object(Le.jsx)(Ga,{monto:ae.ventas,cantidad:ae.cantidad,meses:ae.meses,text:"Ventas de los \xfaltimos 6 meses"}):Object(Le.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(Le.jsx)("img",{src:Ka,width:150,height:150,alt:"",srcset:""}),Object(Le.jsx)("p",{children:"No hay registros"})]})})}),Object(Le.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(Le.jsx)("div",{style:{marginTop:15},children:0!=he.factura&&0!=he.caja?Object(Le.jsx)(qa,{factura:he.factura,caja:he.caja,text:"Ventas/Caja de hoy"}):Object(Le.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(Le.jsx)("img",{src:Ka,width:150,height:150,alt:"",srcset:""}),Object(Le.jsx)("p",{children:"No hay registros"})]})})}),Object(Le.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(Le.jsx)("div",{style:{marginTop:15},children:0!=je.ventas&&0!=je.compras?Object(Le.jsx)(Ha,{ventas:je.ventas,compras:je.compras,text:"Compras/Ventas de los 3 meses"}):Object(Le.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(Le.jsx)("img",{src:Ka,width:150,height:150,alt:"",srcset:""}),Object(Le.jsx)("p",{children:"No hay registros"})]})})})]})}var wn=a(43),An=a.n(wn),Nn=a(34),zn=a.n(Nn),Rn=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Bn(e){return Object(Le.jsxs)(Ba.a,{open:e.open,fullWidth:e.ancho,TransitionComponent:Rn,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Confirmaci\xf3n"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:e.titulo}),e.body]}),Object(Le.jsxs)(Ta.a,{children:[e.hasOwnProperty("customAction")&&e.customAction,Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){e.accion(),e.setOpen(!1)},children:"Aceptar"})]})]})}var Tn=a(52),In=function(e,t){var a=t.usuario,n=t.mostrarNotificacion,i=t.mostrarLoader,r={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/transfers",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),Tn(r).then((function(e){var t=e.data;"error"!=t.type?(i(!1),n({type:"success",message:t.message})):(n({type:"error",message:t.message}),i(!1))})).catch((function(e){i(!1),n({type:"error",message:e.message})}))},Ln=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/orders",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Tn(n).then((function(t){var a=t.data;"error"!=a.type&&(e.setData(a.data),e.setTotalCompras(a.total_compras))})).catch((function(e){}))},_n=function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion,a.mostrarLoader,{method:"Get",url:Z+"order_inventory/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}});Tn(i).then((function(e){var a=e.data;if("error"!=a.type){var n=[];a.data.map((function(e,t){n.push(Object(s.a)(Object(s.a)({},e),{},{numero:t+1}))})),t(n)}})).catch((function(e){console.log(e)}))},Fn=function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/change_order_status",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Tn(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))},En=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/orders_status",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Tn(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Pn=a(395),Dn=a(677),Wn=a(678),Un=a(52),Mn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/suppliers",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Un(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Jn=a(215),Gn=a.n(Jn),qn=a(405),Hn=a(413),Vn=a(52),$n=a(52),Yn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion),i=t.mostrarLoader,r={method:"DELETE",url:Z+"warehouses/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),$n(r).then((function(e){var t=e.data;"error"!=e.data.type?(i(!1),n({type:"success",message:t.message})):(i(!1),n({type:"error",message:t.message}))})).catch((function(e){i(!1),n({type:"success",message:e.message})}))},Zn=function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion,a.mostrarLoader,{method:"Get",url:Z+"warehouses/inventory/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}});$n(i).then((function(e){var a=e.data;"error"!=a.type&&t(a.data)})).catch((function(e){}))},Kn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/warehouses",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});$n(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Xn=a(52),Qn=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/unities",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Xn(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},ei=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ti(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],l=i.a.useState(""),d=Object(c.a)(l,2),b=d[0],p=d[1],O=i.a.useState(""),h=Object(c.a)(O,2),f=(h[0],h[1]),m=i.a.useState(""),x=Object(c.a)(m,2),g=(x[0],x[1]),y=i.a.useState(""),v=Object(c.a)(y,2),C=v[0],S=v[1],k=i.a.useState([]),w=Object(c.a)(k,2),A=w[0],N=w[1],z=i.a.useState(""),R=Object(c.a)(z,2),B=R[0],T=R[1],I=i.a.useState([]),L=Object(c.a)(I,2),_=L[0],F=L[1],E=i.a.useState(null),P=Object(c.a)(E,2),D=P[0],W=P[1],U=i.a.useState(""),M=Object(c.a)(U,2),J=M[0],G=M[1],q=i.a.useState(""),H=Object(c.a)(q,2),V=H[0],$=H[1],Y=i.a.useState(""),K=Object(c.a)(Y,2),X=K[0],Q=K[1],ee=i.a.useState(""),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=i.a.useState(""),oe=Object(c.a)(re,2),se=oe[0],le=oe[1],de=i.a.useState(!0),ue=Object(c.a)(de,2),je=ue[0],be=ue[1],pe=i.a.useState(""),Oe=Object(c.a)(pe,2),he=Oe[0],fe=Oe[1],me=i.a.useState(""),xe=Object(c.a)(me,2),ge=xe[0],ye=xe[1],ve=i.a.useState([]),Ce=Object(c.a)(ve,2),Se=Ce[0],ke=Ce[1],we=i.a.useState(""),Ae=Object(c.a)(we,2),Ne=Ae[0],ze=Ae[1];i.a.useEffect((function(){null!=t.usuario&&(!function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/categories",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Vn(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))}(F,t),Kn(ke,t),Qn(N,t))}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.name),p(e.sistema.bar_code),f(e.sistema.supplier_code),S(e.sistema.unity_id),T(e.sistema.category_id),G(e.sistema.list_price),$(e.sistema.sale_price),le(e.sistema.max_stock),Q(e.sistema.stock),ne(e.sistema.min_stock),ye(e.sistema.description),fe(e.sistema.fraction),be(e.sistema.has_iva),ze(e.sistema.warehouse_id))}),[e.sistema]);var Re=function(){null!=e.sistema&&null!=D&&function(e,t,a,n){var i=a.usuario,r=(a.mostrarNotificacion,a.mostrarLoader),o=new FormData;for(var c in t)o.append(c,t[c]);var s={method:"POST",url:Z+"products/upload_image/"+e,data:o,body:o,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};r(!0),ka(s).then((function(e){"error"!=e.data.type&&n()})).catch((function(e){}))}(e.sistema.id,{url:D},t,e.carga)},Be=function(){e.setSelected(null),o(""),p(""),f(""),G(""),$(""),ze(""),g(""),W(null),T(""),ye(""),S(""),le(""),Q(""),ne("")},Te=function(){o(""),p(""),f(""),G(""),$(""),g(""),W(null),T(""),ye(""),S(""),le(""),Q(""),ne(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:ei,keepMounted:!0,onClose:function(){e.setOpen(!1),Be()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de productos":"Formulario de creaci\xf3n de productos"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"C\xf3digo de barras",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:_,value:function(e){var t=null;return _.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(B),getOptionLabel:function(e){return e.name},onChange:function(e,t){T(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categoria",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:A,value:function(e){var t=null;return A.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(C),getOptionLabel:function(e){return e.name},onChange:function(e,t){S(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una presentaci\xf3n",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Descripci\xf3n",value:ge,onChange:function(e){return ye(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Precio de compra",InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})},value:J,onChange:function(e){return G(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Precio de venta",InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})},value:V,onChange:function(e){return $(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:Se,value:function(e){var t=null;return Se.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(Ne),getOptionLabel:function(e){return e.name},onChange:function(e,t){ze(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione un laboratorio",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Fracciones",value:he,onChange:function(e){return fe(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(qn.a,{control:Object(Le.jsx)(Hn.a,{checked:je,onChange:function(){return be(!je)}}),label:"\xbfGrava IVA?"})}),Object(Le.jsxs)(j.a,{item:!0,md:12,xs:12,children:[Object(Le.jsx)("input",{accept:"image/*",style:{display:"none",marginRight:"5px"},id:"templateFile",multiple:!0,type:"file",onChange:function(e){W(e.target.files[0])}}),Object(Le.jsx)("label",{htmlFor:"templateFile",children:Object(Le.jsxs)(u.a,{startIcon:Object(Le.jsx)(Gn.a,{}),variant:"outlined",color:"default",component:"span",children:["Subir foto"," ",null!=D?"("+D.name+")":""]})})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){e.setOpen(!1),Be()},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={name:r,bar_code:b,list_price:J,sale_price:V,category_id:B,description:ge,stock:""!=X?X:0,min_stock:ae,max_stock:se,unity_id:C,url:D,has_iva:je?1:0,fraction:""!=he?he:0,warehouse_id:Ne};null==e.sistema?Na(a,t,Te):(wa(e.sistema.id,a,t,Te),Re(),null==D&&e.carga()),e.setOpen(!1)},children:"Guardar"})]})]})}var ai=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ni(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(""),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(null),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(""),x=Object(c.a)(m,2),g=x[0],y=x[1],v=i.a.useState(""),C=Object(c.a)(v,2),S=C[0],k=C[1];i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.business_name),b(e.sistema.ruc),y(e.sistema.cellphone),k(e.sistema.email))}),[e.sistema]);var w=function(){null!=e.sistema&&null!=h&&function(e,t,a,n){var i=a.usuario,r=(a.mostrarNotificacion,a.mostrarLoader),o=new FormData;for(var c in t)o.append(c,t[c]);var s={method:"POST",url:Z+"suppliers/upload_image/"+e,data:o,body:o,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};r(!0),Un(s).then((function(e){"error"!=e.data.type&&n()})).catch((function(e){}))}(e.sistema.id,{url:h},t,e.carga)},A=function(){o(""),b(""),f(null),y(""),k(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:ai,keepMounted:!0,onClose:function(){e.setOpen(!1),A()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Proveedores"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de proveedores":"Formulario de creaci\xf3n de proveedores"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Raz\xf3n Social",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"RUC",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Celular",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Correo",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,md:12,xs:12,children:[Object(Le.jsx)("input",{accept:"image/*",style:{display:"none",marginRight:"5px"},id:"templateFile",multiple:!0,type:"file",onChange:function(e){f(e.target.files[0])}}),Object(Le.jsx)("label",{htmlFor:"templateFile",children:Object(Le.jsxs)(u.a,{startIcon:Object(Le.jsx)(Gn.a,{}),variant:"outlined",color:"default",component:"span",children:["Subir foto"," ",null!=h?"("+h.name+")":""]})})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={url:h,business_name:r,ruc:d,cellphone:g,email:S};null==e.sistema?function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o=new FormData;for(var c in e)o.append(c,e[c]);var s={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/suppliers",data:o,body:o,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Un(s).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}(a,t,A):(!function(e,t,a,n){var i=a.usuario,r=a.mostrarNotificacion,o=a.mostrarLoader,c={method:"PUT",url:Z+"suppliers/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),Un(c).then((function(e){var t=e.data;"error"!=t.type?(o(!1),r({type:"success",message:t.message}),n()):(r({type:"error",message:t.message}),o(!1))})).catch((function(e){o(!1),r({type:"error",message:e.message})}))}(e.sistema.id,a,t,A),w(),null==h&&e.carga()),e.setOpen(!1)},children:"Guardar"})]})]})}var ii=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ri(e){var t=i.a.useContext(ie),a=i.a.useState(!1),n=Object(c.a)(a,2),r=n[0],o=n[1],d=i.a.useState(0),b=Object(c.a)(d,2),p=b[0],O=b[1],h=i.a.useState(""),f=Object(c.a)(h,2),m=f[0],x=f[1],g=i.a.useState(""),y=Object(c.a)(g,2),v=y[0],C=y[1],S=i.a.useState([]),k=Object(c.a)(S,2),w=k[0],A=k[1],N=i.a.useState(!1),z=Object(c.a)(N,2),R=z[0],B=(z[1],i.a.useState([])),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState([]),F=Object(c.a)(_,2),E=F[0],P=F[1],D=i.a.useState([]),W=Object(c.a)(D,2),U=W[0],M=W[1],J=i.a.useState(!1),G=Object(c.a)(J,2),q=G[0],H=G[1],V=i.a.useState(!1),$=Object(c.a)(V,2),Y=$[0],K=$[1];i.a.useEffect((function(){null!=t.usuario&&(Mn(A,t),Ra(P,t))}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(L([]),function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion,a.mostrarLoader,{method:"Get",url:Z+"order_detail/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}});Tn(i).then((function(e){var a=e.data;"error"!=a.type&&t(a.data)})).catch((function(e){}))}(e.sistema.id,L,t))}),[e.sistema]);var X=function(){null==e.sistema?(!function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/orders",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Tn(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1),a())})).catch((function(e){r(!1),i({type:"error",message:e.message}),a()}))}({total:p,suppliers:ee(),authorize:R?1:0},t,e.carga),Ra(P,t)):function(e,t,a,n){var i=a.usuario,r=a.mostrarNotificacion,o=a.mostrarLoader,c={method:"PUT",url:Z+"orders/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),Tn(c).then((function(e){var t=e.data;"error"!=t.type?(o(!1),r({type:"success",message:t.message}),n()):(r({type:"error",message:t.message}),o(!1),n())})).catch((function(e){o(!1),n(),r({type:"error",message:e.message})}))}(e.sistema.id,{total:p,suppliers:ee(),authorize:R?1:0},t,e.carga),e.setOpen(!1),Q()},Q=function(){e.setSelected(null),x(""),C(""),M([]),L([]),O(0)},ee=function(){var e=[];return I.map((function(t){e.some((function(e){return e.supplier_id===t.supplier_id}))||e.push({supplier_id:t.supplier_id,products:te(t.supplier_id)})})),e},te=function(e){return I.filter((function(t){return t.supplier_id==e}))},ae=function(){if(0!=U.length!=""&&""!=v&&""!=m&&m>0&&m>0){var e=I.slice();U.map((function(t){(function(e){var t=!1;return I.map((function(a){a.product_id==e&&(t=!0)})),t})(t.id)||e.push({product:t.name,supplier:ne(v),product_id:t.id,quantity:m,supplier_id:v})})),L(e),x(""),M([])}else t.mostrarNotificacion({type:"warning",message:"No deje campos vac\xedos"})},ne=function(e){var t="";return w.map((function(a){a.id==e&&(t=a.business_name)})),t};return Object(Le.jsxs)(Ba.a,{fullWidth:!0,fullScreen:!0,maxWidth:"md",open:e.open,TransitionComponent:ii,keepMounted:!0,onClose:function(){e.setOpen(!1),Q()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(ni,{sistema:null,setSelected:function(){return null},setOpen:K,open:Y,carga:function(){Mn(A,t)}}),Object(Le.jsx)(ti,{sistema:null,setSelected:function(){return null},setOpen:H,open:q,carga:function(){Ra(P,t)}}),Object(Le.jsx)(Bn,{open:r,setOpen:o,accion:X,titulo:"\xbfDesea continuar? Se anular\xe1 la orden y se crear\xe1 otra."}),Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:null!=e.sistema?"Orden de compra "+e.sistema.id:"Orden de compra"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsxs)(La.a,{id:"alert-dialog-slide-description",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[null!=e.sistema?"Formulario de edici\xf3n de compras":"Formulario de creaci\xf3n de compras",Object(Le.jsxs)("div",{style:{display:"flex"},children:[Object(Le.jsx)(Pn.a,{title:"Crear proveedor",children:Object(Le.jsx)(l.a,{"aria-label":"add_proveedor",onClick:function(){return K(!0)},children:Object(Le.jsx)(Dn.a,{})})}),Object(Le.jsx)(Pn.a,{title:"Crear producto",children:Object(Le.jsx)(l.a,{"aria-label":"add_producto",onClick:function(){return H(!0)},children:Object(Le.jsx)(Wn.a,{})})})]})]}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:4,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},size:"small",options:E,multiple:!0,value:U,onChange:function(e,t){M(t)},getOptionLabel:function(e){return e.bar_code+" - "+e.name+" - stock: "+e.stock},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({variant:"outlined"},e),{},{label:"Seleccione un producto",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:4,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",size:"small",label:"Cantidad",min:"0",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:4,style:{display:"flex"},children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:w,value:function(e,t){var a=null;return t.map((function(t){e==t.id&&(a=Object(s.a)({},t))})),a}(v,w),getOptionLabel:function(e){return e.business_name},onChange:function(e,t){C(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione un proveedor",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",size:"small",label:"Total de la compra",value:p,InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})},onChange:function(e){return O(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Producto",field:"product",render:function(e){return Object(Le.jsx)("span",{children:e.product})}},{title:"Cantidad",field:"quantity"},{title:"Proveedor",field:"supplier"}],data:I,localization:va,title:"Listado del pedido",actions:[{icon:ya.Add,tooltip:"Agregar",isFreeAction:!0,onClick:function(e,t){ae()}},{icon:ya.Delete,tooltip:"Eliminar",onClick:function(e,t){!function(e){var t=e.tableData.id,a=I.slice();L(a.filter((function(e,a){return a!=t}))),x(""),C(""),M([])}(t)}}],options:{pageSize:10,actionsColumnIndex:-1,width:"100%",maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){e.setOpen(!1),Q()},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){null!=e.sistema?o(!0):X()},children:"Guardar"})]})]})}var oi=a(394),ci=a(330),si=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function li(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState([]),l=Object(c.a)(s,2),d=l[0],j=l[1];i.a.useEffect((function(){null!=t.usuario&&En(j,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&o(e.sistema.status)}),[e.sistema]);return console.log(d),Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:si,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Estados"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Con el estado ENTREGADO deber\xe1 distribuir los productos a las bodegas y se cerrar\xe1 la orden."}),Object(Le.jsxs)(Ye.a,{variant:"outlined",style:{width:"100%"},children:[Object(Le.jsx)(Ze.a,{id:"demo-simple-select-outlined-label",children:"Estado"}),Object(Le.jsx)(ci.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:r,onChange:function(e){o(e.target.value)},label:"Estado",children:d.map((function(e){return Object(Le.jsx)(oi.a,{value:e.id,children:e.name})}))})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){null!=e.sistema&&Fn({order:e.sistema.id,status:r},t),e.setOpen(!1),e.carga()},children:"Confirmar"})]})]})}var di=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ui(e){var t,a=i.a.useContext(ie),n=i.a.useState(!1),r=Object(c.a)(n,2),o=r[0],l=r[1],d=i.a.useState(""),b=Object(c.a)(d,2),p=(b[0],b[1]),O=i.a.useState(""),h=Object(c.a)(O,2),f=(h[0],h[1]),m=i.a.useState([]),x=Object(c.a)(m,2),g=(x[0],x[1],i.a.useState(!1)),y=Object(c.a)(g,2),v=(y[0],y[1],i.a.useState([])),C=Object(c.a)(v,2),S=C[0],k=C[1],w=i.a.useState([]),A=Object(c.a)(w,2),N=(A[0],A[1],i.a.useState("")),z=Object(c.a)(N,2),R=(z[0],z[1]),B=i.a.useState([]),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState([]),F=Object(c.a)(_,2),E=F[0],P=F[1],D=i.a.useState(""),W=Object(c.a)(D,2),U=W[0],M=W[1];i.a.useEffect((function(){null!=a.usuario&&Kn(P,a)}),[a.usuario]),i.a.useEffect((function(){null!=e.sistema&&e.open&&(console.log(e.open),k([]),L([]),_n(e.sistema.id,k,a))}),[e.sistema,e.open]);var J=function(){null!=e.sistema&&0!=I.length&&In({data:I,order_id:e.sistema.id},a),e.setOpen(!1),G()},G=function(){p(""),f(""),R(""),k([]),L([]),e.setSelected(null),e.carga()},q=function(e){var t="";return E.map((function(a){a.id==e&&(t=a.name)})),t},H=function(e,t){var a=!1;return t.map((function(t,n){t.inventory_id==e&&(a=!0)})),a},V=function(e){var t=[];if(""!=U){var n=I.slice();e.map((function(e){t.push(e),n.push(Object(s.a)(Object(s.a)({},e),{},{warehouse_id:U,warehouse:q(U)}))})),console.log(n),function(e){var t=[];S.slice().map((function(a,n){H(a.inventory_id,e)||t.push(Object(s.a)({},a))})),k(t)}(e),L(n)}else a.mostrarNotificacion({type:"warning",message:"Seleccione un laboratorio primero"})};return Object(Le.jsxs)(Ba.a,{fullWidth:!0,maxWidth:"lg",fullScreen:!0,open:e.open,TransitionComponent:di,keepMounted:!0,onClose:function(){e.setOpen(!1),G()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(Bn,{open:o,setOpen:l,accion:J,titulo:"\xbfDesea continuar? Se anular\xe1 la orden y se crear\xe1 otra."}),Object(Le.jsxs)(_a.a,{id:"alert-dialog-slide-title",children:["Almacenaje - Compra ",null===(t=e.sistema)||void 0===t?void 0:t.id]}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Seleccione los productos y env\xedelos a los laboratorios correspondientes"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:E,value:function(e,t){var a=null;return t.map((function(t){e==t.id&&(a=Object(s.a)({},t))})),a}(U,E),getOptionLabel:function(e){return e.name},onChange:function(e,t){M(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione un laboratorio destino",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{id:1,icons:ya,columns:[{title:"N\xfamero",field:"numero"},{title:"Producto",field:"name",render:function(e){return Object(Le.jsx)("span",{children:e.name})}},{title:"C\xf3digo de Barras",field:"bar_code"},{title:"Stock",field:"stock"}],data:S,title:"Productos en el pedido",localization:va,actions:[{icon:ya.Add,tooltip:"Agregar",onClick:function(e,t){return V(t)}}],options:{pageSize:10,paging:!1,search:!1,selection:!0,actionsColumnIndex:-1,width:"100%",maxBodyHeight:150,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}},1)}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{id:2,icons:ya,columns:[{title:"N\xfamero",field:"numero"},{title:"Producto",field:"name",render:function(e){return Object(Le.jsx)("span",{children:e.name})}},{title:"C\xf3digo de Barras",field:"bar_code"},{title:"Stock",field:"stock"},{title:"Laboratorio Destino",field:"warehouse"}],data:I,localization:va,actions:[{icon:ya.Delete,tooltip:"Eliminar",onClick:function(e,t){!function(e){var t=S.slice(),a=e.tableData.id,n=I.slice();console.log(e),t.push({numero:e.numero,product_id:e.product_id,inventory_id:e.inventory_id,name:e.name,jp_code:e.jp_code,supplier_code:e.supplier_code}),k(t),L(n.filter((function(e,t){return t!=a})))}(t)}}],options:{pageSize:10,selection:!1,paging:!1,toolbar:!1,showTitle:!1,actionsColumnIndex:-1,width:"100%",maxBodyHeight:170,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}},2)})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",disabled:0==I.length,onClick:function(){J()},children:"Guardar"})]})]})}var ji=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function bi(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:ji,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Sistemas"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){!function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion),i=t.mostrarLoader,r={method:"DELETE",url:Z+"orders/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),Tn(r).then((function(e){var t=e.data;"error"!=e.data.type?(i(!1),n({type:"success",message:t.message})):(i(!1),n({type:"error",message:t.message}))})).catch((function(e){i(!1),n({type:"success",message:e.message})}))}(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}function pi(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState({autorizados:0,no_autorizados:0}),l=Object(c.a)(s,2),d=(l[0],l[1]),b=i.a.useState(!1),p=Object(c.a)(b,2),O=p[0],h=p[1],f=i.a.useState(0),m=Object(c.a)(f,2),x=m[0],g=m[1],y=i.a.useState(!1),C=Object(c.a)(y,2),S=C[0],k=C[1],w=i.a.useState(!1),A=Object(c.a)(w,2),N=A[0],z=A[1],R=i.a.useState(!1),B=Object(c.a)(R,2),T=B[0],I=B[1],L=i.a.useState(!1),_=Object(c.a)(L,2),F=_[0],E=_[1],P=i.a.useState(null),D=Object(c.a)(P,2),W=D[0],U=D[1],M=i.a.useState(null),J=Object(c.a)(M,2),G=J[0],q=J[1],H=i.a.useState(null),V=Object(c.a)(H,2),$=V[0],Y=V[1],K=i.a.useState(null),X=Object(c.a)(K,2),Q=X[0],te=X[1],ae=i.a.useState(null),ne=Object(c.a)(ae,2),re=ne[0],oe=ne[1],se=i.a.useState([]),le=Object(c.a)(se,2),de=(le[0],le[1]);i.a.useEffect((function(){null!=t.usuario&&(Ln({setTotalCompras:g,setData:o},t),En(de,t))}),[t.usuario]),i.a.useEffect((function(){if(0!=r.length){var e=0,t=0;r.map((function(a){null!=a.authorized?e++:t++})),d({autorizados:e,no_autorizados:t})}}),[r]);var ue=function(){Ln({setTotalCompras:g,setData:o},t),U(null),q(null),Y(null),te(null),oe(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Bn,{open:O,setOpen:h,accion:function(){!function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:Z+"orders/cancel/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Tn(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1),a())})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}($,t,ue)},titulo:"\xbfDesea continuar? Se anular\xe1 la orden."}),Object(Le.jsx)(li,{sistema:Q,setSelected:te,setOpen:I,open:T,carga:ue}),Object(Le.jsx)(ui,{sistema:re,setSelected:oe,setOpen:E,open:F,carga:ue}),Object(Le.jsx)(ri,{sistema:W,setSelected:U,setOpen:k,open:S,carga:ue}),Object(Le.jsx)(bi,{sistema:G,setOpen:z,open:N,carga:ue}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Compras"}),Object(Le.jsx)(u.a,{onClick:function(){return k(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:[Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})}),Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsxs)(ee.a,{variant:"h4",gutterBottom:!0,children:["$",x.toFixed(2)]}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Estado",field:"status",render:function(e){return Object(Le.jsx)("span",{children:"A"==e.status?"Emitida":"Anulada"})}},{title:"N\xfamero",field:"id"},{title:"Proveedor",field:"supplier"},{title:"Total",field:"total",type:"currency"},{title:"Fecha",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,a){"E"!=a.status?(Y(a.id),h(!0)):t.mostrarNotificacion({type:"warning",message:"Compra ya anulada"})}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Oi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function hi(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Oi,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Aa(e.sistema.id,t,e.carga),e.setOpen(!1)},children:"Eliminar"})]})]})}var fi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function mi(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:fi,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function xi(e){var t=i.a.useContext(ie),a=i.a.useState(!1),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState([]),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(!1),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(null),N=Object(c.a)(A,2),z=N[0],R=N[1],B=i.a.useState(null),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState(!1),F=Object(c.a)(_,2),E=F[0],P=F[1];i.a.useEffect((function(){null!=t.usuario&&Ra(b,t)}),[t.usuario]);var D=function(){Ra(b,t),w(null),R(null)},W=function(e,t){return{unity:e-e%1,frac:1*(e%1*t).toFixed(1)}};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Bn,{ancho:!0,body:Object(Le.jsx)("img",{style:{height:"100%",width:"100%"},src:K+"storage/"+I}),open:r,setOpen:o,accion:function(){L(null),o(!1)},titulo:"Foto del producto"}),Object(Le.jsx)(ti,{sistema:k,setSelected:w,setOpen:f,open:h,carga:D}),Object(Le.jsx)(hi,{sistema:z,setOpen:y,open:g,carga:D}),Object(Le.jsx)(mi,{setOpen:P,open:E}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Productos"}),Object(Le.jsx)(u.a,{onClick:function(){return f(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:d.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Im\xe1gen",field:"avatar",render:function(e){return Object(Le.jsx)("img",{onClick:function(){o(!0),L(e.image)},style:{height:36,width:36,borderRadius:36,cursor:"pointer"},src:K+"storage/"+e.image})}},{title:"C\xf3digo de Barras",field:"bar_code"},{title:"Nombre",field:"name"},{title:"Presentaci\xf3n",field:"unity"},{title:"Unidades",field:"stock",render:function(e){return Object(Le.jsx)("span",{children:W(e.stock,e.fraction).unity})}},{title:"Fracciones",field:"fraction",render:function(e){return Object(Le.jsx)("span",{children:W(e.stock,e.fraction).frac})}},{title:"Precio de compra",field:"list_price"},{title:"Precio de venta",field:"sale_price"},{title:"Laboratorio",field:"warehouse"},{title:"Registro",field:"created_at",type:"datetime"}],data:d,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){w(t),f(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){R(t),y(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var gi=a(52),yi=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/zones",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});gi(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},vi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ci(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],l=i.a.useState(""),d=Object(c.a)(l,2),b=(d[0],d[1],i.a.useState("")),p=Object(c.a)(b,2),O=(p[0],p[1],i.a.useState("")),h=Object(c.a)(O,2),f=(h[0],h[1],i.a.useState("")),m=Object(c.a)(f,2),x=m[0],g=m[1],y=i.a.useState([]),v=Object(c.a)(y,2),C=v[0],S=v[1],k=i.a.useState(""),w=Object(c.a)(k,2),A=(w[0],w[1],i.a.useState("")),N=Object(c.a)(A,2),z=(N[0],N[1],i.a.useState("")),R=Object(c.a)(z,2),B=(R[0],R[1],i.a.useState("")),T=Object(c.a)(B,2),I=(T[0],T[1],i.a.useState("")),L=Object(c.a)(I,2),_=L[0],F=L[1];i.a.useEffect((function(){null!=t.usuario&&yi(S,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.name),g(e.sistema.zone_id),F(e.sistema.description))}),[e.sistema]);var E=function(){o(""),g(""),F(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:vi,keepMounted:!0,onClose:function(){e.setOpen(!1),E()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Laboratorios"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de laboratorios":"Formulario de creaci\xf3n de laboratorios"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:C,value:function(e){var t=null;return C.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(x),getOptionLabel:function(e){return e.name},onChange:function(e,t){g(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una zona",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Descripci\xf3n",value:_,onChange:function(e){return F(e.target.value)}})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={name:r,description:_,zone_id:x};null==e.sistema?(!function(e,t){var a=t.usuario,n=t.mostrarNotificacion,i=t.mostrarLoader,r={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/warehouses",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),$n(r).then((function(e){var t=e.data;"error"!=t.type?(i(!1),n({type:"success",message:t.message})):(n({type:"error",message:t.message}),i(!1))})).catch((function(e){i(!1),n({type:"error",message:e.message})}))}(a,t),E()):(!function(e,t,a){var n=a.usuario,i=a.mostrarNotificacion,r=a.mostrarLoader,o={method:"PUT",url:Z+"warehouses/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),$n(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message})):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}(e.sistema.id,a,t),E()),e.setOpen(!1),e.carga()},children:"Guardar"})]})]})}var Si=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ki(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Si,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Yn(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var wi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ai(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:wi,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function Ni(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(null),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1];i.a.useEffect((function(){null!=t.usuario&&Kn(o,t)}),[t.usuario]);var B=function(){Kn(o,t),y(null),w(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Ci,{sistema:g,setSelected:y,setOpen:b,open:d,carga:B}),Object(Le.jsx)(ki,{sistema:k,setOpen:f,open:h,carga:B}),Object(Le.jsx)(Ai,{setOpen:R,open:z}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Laboratorios"}),Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name"},{title:"Descripci\xf3n",field:"description"},{title:"Zona",field:"zone"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){y(t),b(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){w(t),f(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return R(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var zi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ri(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:zi,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){!function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion),r=t.mostrarLoader,o={method:"DELETE",url:Z+"suppliers/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Un(o).then((function(e){var t=e.data;"error"!=e.data.type?(r(!1),i({type:"success",message:t.message}),a()):(r(!1),i({type:"error",message:t.message}))})).catch((function(e){r(!1),i({type:"success",message:e.message})}))}(e.sistema.id,t,e.carga),e.setOpen(!1)},children:"Eliminar"})]})]})}var Bi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ti(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Bi,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function Ii(e){var t=i.a.useContext(ie),a=i.a.useState(null),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState([]),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(!1),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(!1),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(null),N=Object(c.a)(A,2),z=N[0],R=N[1],B=i.a.useState(null),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState(!1),F=Object(c.a)(_,2),E=F[0],P=F[1];i.a.useEffect((function(){null!=t.usuario&&Mn(f,t)}),[t.usuario]);var D=function(){Mn(f,t),R(null),L(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Bn,{ancho:!0,body:Object(Le.jsx)("img",{style:{height:"100%",width:"100%"},src:K+"storage/"+r}),open:d,setOpen:b,accion:function(){o(null),b(!1)},titulo:"Foto del producto"}),Object(Le.jsx)(ni,{sistema:z,setSelected:R,setOpen:y,open:g,carga:D}),Object(Le.jsx)(Ri,{sistema:I,setOpen:w,open:k,carga:D}),Object(Le.jsx)(Ti,{setOpen:P,open:E}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Proveedores"}),Object(Le.jsx)(u.a,{onClick:function(){return y(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:h.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Logo",field:"avatar",render:function(e){return Object(Le.jsx)("img",{onClick:function(){null!=e.logo&&(b(!0),o(e.logo))},style:{height:36,width:36,borderRadius:36,cursor:"pointer"},src:K+"storage/"+e.logo})}},{title:"Raz\xf3n Social",field:"business_name"},{title:"RUC",field:"ruc"},{title:"Celular",field:"cellphone"},{title:"Correo",field:"email"},{title:"Productos",field:"products"},{title:"Registro",field:"created_at",type:"datetime"}],data:h,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){R(t),y(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){L(t),w(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return P(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Li=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function _i(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],d=i.a.useState(""),b=Object(c.a)(d,2),p=b[0],O=b[1],h=i.a.useState(""),f=Object(c.a)(h,2),m=f[0],x=f[1],g=i.a.useState(""),y=Object(c.a)(g,2),v=y[0],C=y[1],S=i.a.useState(""),k=Object(c.a)(S,2),w=k[0],A=k[1],N=i.a.useState([]),z=Object(c.a)(N,2),R=z[0],B=z[1],T=i.a.useState(""),I=Object(c.a)(T,2),L=(I[0],I[1]),_=i.a.useState(""),F=Object(c.a)(_,2),E=F[0],P=F[1],D=i.a.useState(""),W=Object(c.a)(D,2),U=W[0],M=W[1],J=i.a.useState(""),G=Object(c.a)(J,2),q=G[0],H=G[1],V=i.a.useState(""),$=Object(c.a)(V,2),Y=$[0],Z=$[1];i.a.useEffect((function(){null!=t.usuario&&Qn(B,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.name),O(e.sistema.jp_code),x(e.sistema.supplier_code),A(e.sistema.unity_id),C(e.sistema.serie),H(e.sistema.max_stock),P(e.sistema.stock),M(e.sistema.min_stock),Z(e.sistema.description),L(e.sistema.image))}),[e.sistema]);var K=function(){o(""),O(""),x(""),C(""),H(""),P(""),M(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Li,keepMounted:!0,onClose:function(){e.setOpen(!1),K()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de productos":"Formulario de creaci\xf3n de productos"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"C\xf3digo JP",value:p,onChange:function(e){return O(e.target.value)},InputProps:{endAdornment:Object(Le.jsxs)(Xe.a,{position:"start",children:["      ",Object(Le.jsx)(l.a,{size:"small","aria-label":"delete",children:Object(Le.jsx)(ja.a,{})})]})}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"C\xf3digo Proveedor",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Serie",value:v,onChange:function(e){return C(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:R,value:function(e){var t=null;return R.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(w),getOptionLabel:function(e){return e.name},onChange:function(e,t){A(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Cantidad",type:"number",value:E,onChange:function(e){return P(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Cantidad m\xednima",value:U,onChange:function(e){return M(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["   ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Cantidad m\xe1xima",value:q,onChange:function(e){return H(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["  ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Descripci\xf3n",value:Y,onChange:function(e){return Z(e.target.value)}})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={jp_code:p,supplier_code:m,bar_code:"",serie:v,name:r,description:Y,stock:E,min_stock:U,max_stock:q,unity_id:w,user_id:1};null==e.sistema?(Na(a,t),K()):(wa(e.sistema.id,a,t),K()),e.setOpen(!1),e.carga()},children:"Guardar"})]})]})}var Fi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ei(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Fi,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Aa(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var Pi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Di(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Pi,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function Wi(e){var t=i.a.useContext(ie),a=i.a.useState(null),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],u=l[1],b=i.a.useState([]),p=Object(c.a)(b,2),O=p[0],h=p[1],f=i.a.useState(!1),m=Object(c.a)(f,2),x=m[0],g=m[1],y=i.a.useState(!1),C=Object(c.a)(y,2),S=C[0],k=C[1],w=i.a.useState(null),A=Object(c.a)(w,2),N=A[0],z=A[1],R=i.a.useState(null),B=Object(c.a)(R,2),T=B[0],I=B[1],L=i.a.useState(!1),_=Object(c.a)(L,2),F=_[0],E=_[1];i.a.useEffect((function(){null!=t.usuario&&za(h,t)}),[t.usuario]);var P=function(){za(h,t),z(null),I(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Bn,{ancho:!0,body:Object(Le.jsx)("img",{style:{height:"100%",width:"100%"},src:K+"storage/"+r}),open:d,setOpen:u,accion:function(){o(null),u(!1)},titulo:"Foto del producto"}),Object(Le.jsx)(_i,{sistema:N,setSelected:z,setOpen:g,open:x,carga:P}),Object(Le.jsx)(Ei,{sistema:T,setOpen:k,open:S,carga:P}),Object(Le.jsx)(Di,{setOpen:E,open:F}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:Object(Le.jsx)(ee.a,{variant:"h5",children:"Inventario"})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:[Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:O.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})}),Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Productos stock m\xednimo"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:O.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(30, 136, 229)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})}),Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Productos stock m\xednimo"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:O.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(216, 67, 21)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Im\xe1gen",field:"avatar",render:function(e){return Object(Le.jsx)("img",{onClick:function(){u(!0),o(e.image)},style:{height:36,width:36,borderRadius:36,cursor:"pointer"},src:K+"storage/"+e.image})}},{title:"Cod. (JP)",field:"jp_code"},{title:"Cod. (Provedor)",field:"supplier_code"},{title:"Serie",field:"serie"},{title:"Nombre",field:"name"},{title:"Medida",field:"unity"},{title:"Registro",field:"created_at",type:"datetime"}],data:O,localization:va,actions:[{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return E(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Ui=a(52),Mi=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/transfers",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Ui(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Ji=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Gi(e){var t=i.a.useContext(ie),a=i.a.useState(!1),n=Object(c.a)(a,2),r=(n[0],n[1],i.a.useState("")),o=Object(c.a)(r,2),l=(o[0],o[1]),d=i.a.useState(""),b=Object(c.a)(d,2),p=(b[0],b[1]),O=i.a.useState([]),h=Object(c.a)(O,2),f=(h[0],h[1]),m=i.a.useState([]),x=Object(c.a)(m,2),g=x[0],y=x[1],v=i.a.useState([]),C=Object(c.a)(v,2),S=(C[0],C[1]),k=i.a.useState([]),w=Object(c.a)(k,2),A=(w[0],w[1],i.a.useState("")),N=Object(c.a)(A,2),z=(N[0],N[1]),R=i.a.useState([]),B=Object(c.a)(R,2),T=B[0],I=B[1],L=i.a.useState([]),_=Object(c.a)(L,2),F=_[0],E=_[1],P=i.a.useState(""),D=Object(c.a)(P,2),W=D[0],U=D[1],M=i.a.useState(""),J=Object(c.a)(M,2),G=J[0],q=J[1];i.a.useEffect((function(){null!=t.usuario&&(Mn(f,t),Kn(E,t))}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&e.open&&(console.log(e.open),S([]),I([]),_n(e.sistema.id,S,t))}),[e.sistema,e.open]);var H=function(){l(""),p(""),z(""),S([]),I([]),e.setSelected(null),e.carga()},V=function(e,t){var a=null;return t.map((function(t){e==t.id&&(a=Object(s.a)({},t))})),a},$=function(e){var t="";return F.map((function(a){a.id==e&&(t=a.name)})),t},Y=function(e,t){var a=!1;return t.map((function(t,n){t.inventory_id==e&&(a=!0)})),a},Z=function(e){var a=[];if(""!=G){var n=T.slice();e.map((function(e){a.push(e),n.push(Object(s.a)(Object(s.a)({},e),{},{warehouse_idO:W,warehouse_id:G,warehouse:$(G)}))})),console.log(n),function(e){var t=[];g.slice().map((function(a,n){Y(a.inventory_id,e)||t.push(Object(s.a)({},a))})),y(t)}(e),I(n)}else t.mostrarNotificacion({type:"warning",message:"Seleccione una bodega destino"})};return Object(Le.jsxs)(Ba.a,{fullWidth:!0,maxWidth:"lg",fullScreen:!0,open:e.open,TransitionComponent:Ji,keepMounted:!0,onClose:function(){e.setOpen(!1),H()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Transferencia"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Seleccione los productos y env\xedelos a la bodega correspondiente"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:F,value:V(W,F),getOptionLabel:function(e){return e.name},onChange:function(e,a){var n;null!=a?(U(a.id),q(""),""!=(n=a.id)&&(y([]),Zn(n,y,t))):(U(""),q(""))},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione la bodega origen",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:F,getOptionDisabled:function(e){return e.id===W},value:V(G,F),getOptionLabel:function(e){return e.name},onChange:function(e,t){null!=t?W!=t.id&&q(t.id):q("")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione la bodega destino",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{id:1,icons:ya,columns:[{title:"Producto",field:"name",render:function(e){return Object(Le.jsx)("span",{children:e.name})}},{title:"C\xf3digo JP",field:"jp_code"},{title:"C\xf3digo Proveedor",field:"supplier_code"}],data:g,title:"Productos en el pedido",localization:va,actions:[{icon:ya.Add,tooltip:"Agregar",onClick:function(e,t){return Z(t)}}],options:{pageSize:10,paging:!1,search:!1,selection:!0,actionsColumnIndex:-1,width:"100%",maxBodyHeight:150,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}},1)}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{id:2,icons:ya,columns:[{title:"Producto",field:"name",render:function(e){return Object(Le.jsx)("span",{children:e.name})}},{title:"C\xf3digo JP",field:"jp_code"},{title:"C\xf3digo Proveedor",field:"supplier_code"},{title:"Bodega Destino",field:"warehouse"}],data:T,localization:va,actions:[{icon:ya.Delete,tooltip:"Eliminar",onClick:function(e,t){!function(e){var t=g.slice(),a=e.tableData.id,n=T.slice();console.log(e),t.push({numero:e.numero,product_id:e.product_id,inventory_id:e.inventory_id,name:e.name,jp_code:e.jp_code,supplier_code:e.supplier_code}),y(t),I(n.filter((function(e,t){return t!=a})))}(t)}}],options:{pageSize:10,selection:!1,paging:!1,toolbar:!1,showTitle:!1,actionsColumnIndex:-1,width:"100%",maxBodyHeight:170,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}},2)})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){H()},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",disabled:0==T.length,onClick:function(){In({data:T},t),e.setOpen(!1),H()},children:"Guardar"})]})]})}var qi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Hi(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:qi,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Yn(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var Vi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function $i(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Vi,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function Yi(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(null),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1];i.a.useEffect((function(){null!=t.usuario&&Mi(o,t)}),[t.usuario]);var B=function(){Mi(o,t),y(null),w(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Gi,{sistema:g,setSelected:y,setOpen:b,open:d,carga:B}),Object(Le.jsx)(Hi,{sistema:k,setOpen:f,open:h,carga:B}),Object(Le.jsx)($i,{setOpen:R,open:z}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Transferencias"}),Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name"},{title:"Descripci\xf3n",field:"jp_code"},{title:"Zona",field:"supplier_code"},{title:"Productos",field:"warehouse_origin"},{title:"Productos",field:"warehouse_destination"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){y(t),b(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return R(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Zi=a(52),Ki=function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/adjustments",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Zi(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))},Xi=a(52),Qi=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function er(e){var t=i.a.useContext(ie),a=i.a.useState(!1),n=Object(c.a)(a,2),r=(n[0],n[1],i.a.useState("")),o=Object(c.a)(r,2),l=o[0],d=o[1],b=i.a.useState(""),p=Object(c.a)(b,2),O=p[0],h=p[1],f=i.a.useState([]),m=Object(c.a)(f,2),x=m[0],g=m[1],y=i.a.useState([]),v=Object(c.a)(y,2),C=(v[0],v[1],i.a.useState([])),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1],B=i.a.useState([]),T=Object(c.a)(B,2),I=(T[0],T[1]),L=i.a.useState([]),_=Object(c.a)(L,2),F=(_[0],_[1]),E=i.a.useState(""),P=Object(c.a)(E,2),D=(P[0],P[1],i.a.useState("")),W=Object(c.a)(D,2),U=(W[0],W[1],i.a.useState([])),M=Object(c.a)(U,2),J=M[0],G=M[1],q=i.a.useState(""),H=Object(c.a)(q,2),V=H[0],$=H[1],Y=i.a.useState(null),Z=Object(c.a)(Y,2),K=Z[0],X=Z[1],Q=i.a.useState(""),ee=Object(c.a)(Q,2),te=ee[0],ae=ee[1];i.a.useEffect((function(){null!=t.usuario&&(!function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/reasons",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Xi(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))}(g,t),Kn(F,t),Ra(G,t))}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&e.open&&(console.log(e.open),w([]),I([]),_n(e.sistema.id,w,t))}),[e.sistema,e.open]);var ne=function(){!function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/adjustments",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Zi(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}({data:k},t,re),e.setOpen(!1)},re=function(){d(""),h(""),$(""),X(null),w([]),I([]),e.setSelected(null),e.setOpen(!1),e.carga()},oe=function(e){var t="";return x.map((function(a){a.id==e&&(t=a.name)})),t},se=function(){if(""!=V&&""!=O&&""!=l&&l>0&&l>0){var e=!1,a=k.slice();if(!function(e){var t=!1;return k.map((function(a){a.product_id==e&&(t=!0)})),t}(K.id)){var n=1*(l%1*K.fraction).toFixed(1),i=l-l%1;2==O?K.stock-l>=0?a.push({warehouse:K.warehouse,unity:i,fraction:n,product:K.name,bar_code:K.bar_code,stock:K.stock,product_id:K.id,reason_id:O,reason:oe(O),quantity:l}):e=!0:a.push({warehouse:K.warehouse,unity:i,fraction:n,product:K.name,bar_code:K.bar_code,stock:K.stock,product_id:K.id,reason_id:O,reason:oe(O),quantity:l})}w(a),d(""),ae(""),$(""),X(null),e&&t.mostrarNotificacion({type:"warning",message:"No hay suficiente stock"})}else t.mostrarNotificacion({type:"warning",message:"No deje campos vac\xedos"})},le=function(e,t,a){if(console.log(e),null==e)return 0;if("cantidad"==t)return a>e.stock&&2==O?0:e.fraction*a;if("fraccion"==t){console.log("valor cambiar"+a);var n=e.stock*e.fraction;return console.log("valor maximo"+n),a>n&&2==O?0:1*a/e.fraction}},de=function(e,t){return{unity:e-e%1,frac:1*(e%1*t).toFixed(1)}};return Object(Le.jsxs)(Ba.a,{fullWidth:!0,maxWidth:"lg",fullScreen:!0,open:e.open,TransitionComponent:Qi,keepMounted:!0,onClose:function(){e.setOpen(!1),re()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(ti,{sistema:null,setSelected:function(){return null},setOpen:R,open:z,carga:function(){Ra(G,t)}}),Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Ajuste"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Seleccione los productos y cantidades a ajustar"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:6,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},size:"small",options:x,value:function(e){var t=null;return x.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(O),onChange:function(e,t){h(null!=t?t.id:"")},getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({variant:"outlined"},e),{},{label:"Seleccione un tipo",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:6,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},size:"small",options:J,value:function(e,t){var a=null;return t.map((function(t){e==t.id&&(a=Object(s.a)({},t))})),a}(V,J),onChange:function(e,t){null!=t?($(t.id),X(t),d(1),ae(t.fraction)):(X(null),$(""))},getOptionLabel:function(e){return e.bar_code+" - "+e.name+" - unidades: "+de(e.stock,e.fraction).unity+(0!=e.fraction?" - fracciones: "+de(e.stock,e.fraction).frac:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({variant:"outlined"},e),{},{label:"Seleccione un producto",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:null!=K&&0!=K.fraction?6:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",size:"small",label:"Unidad",min:"0",value:l,onChange:function(e){d(e.target.value),null!=K&&0!=K.fraction&&ae(le(K,"cantidad",e.target.value))}})]}),null!=K&&0!=K.fraction?Object(Le.jsxs)(j.a,{item:!0,xs:12,md:6,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},size:"small",label:"Fracciones",value:te,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&(ae(e.target.value),d(1*le(K,"fraccion",e.target.value).toFixed(3)))}})]}):null,(0==l&&0!=te||0==te&&0!=l)&&null!=K&&0!=K.fraction?Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Je.a,{severity:"info",children:"No hay stock suficiente"})}):null,Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{id:1,icons:ya,columns:[{title:"Producto",field:"product",render:function(e){return Object(Le.jsx)("span",{children:e.product})}},{title:"C\xf3digo de Barras",field:"bar_code"},{title:"Laboratorio",field:"warehouse"},{title:"Unidades",field:"unity",editable:"never"},{title:"Fracciones",field:"fraction",editable:"never"},{title:"Tipo",field:"reason"}],data:k,title:"Productos a ajustar",localization:va,actions:[{icon:ya.Add,tooltip:"Agregar",isFreeAction:!0,onClick:function(e,t){se()}},{icon:ya.Delete,tooltip:"Eliminar",onClick:function(e,t){!function(e){var t=e.tableData.id,a=k.slice();w(a.filter((function(e,a){return a!=t}))),d(""),ae(""),h(""),$(""),X(null)}(t)}}],options:{pageSize:10,paging:!1,search:!1,actionsColumnIndex:-1,width:"100%",maxBodyHeight:150,headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}},1)})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){re()},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",disabled:0==k.length,onClick:function(){ne()},children:"Guardar"})]})]})}var tr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ar(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:tr,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Yn(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var nr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ir(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:nr,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function rr(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(null),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1];i.a.useEffect((function(){null!=t.usuario&&Ki(o,t)}),[t.usuario]);var B=function(){Ki(o,t),y(null),w(null)},T=function(e,t){return{unity:e-e%1,frac:1*(e%1*t).toFixed(1)}};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(er,{sistema:g,setSelected:y,setOpen:b,open:d,carga:B}),Object(Le.jsx)(ar,{sistema:k,setOpen:f,open:h,carga:B}),Object(Le.jsx)(ir,{setOpen:R,open:z}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Ajustes"}),Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name"},{title:"Codigo de Barras",field:"bar_code"},{title:"Laboratorio",field:"warehouse"},{title:"Ajuste unidad",field:"quantity",render:function(e){return Object(Le.jsx)("span",{children:T(e.quantity,e.fraction).unity})}},{title:"Ajuste fracci\xf3n",field:"quantity",render:function(e){return Object(Le.jsx)("span",{children:T(e.quantity,e.fraction).frac})}},{title:"Tipo",field:"reason"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var or=a(329),cr=a.n(or),sr=a(183),lr=a(467),dr=a.n(lr),ur=a(468),jr=a.n(ur),br=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function pr(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(""),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(""),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(""),x=Object(c.a)(m,2),g=x[0],y=x[1],v=i.a.useState(""),C=Object(c.a)(v,2),S=C[0],k=C[1],w=i.a.useState(""),A=Object(c.a)(w,2),N=A[0],z=A[1],R=i.a.useState(""),B=Object(c.a)(R,2),T=(B[0],B[1],i.a.useState("")),I=Object(c.a)(T,2),L=(I[0],I[1],i.a.useState("")),_=Object(c.a)(L,2),F=(_[0],_[1],i.a.useState("")),E=Object(c.a)(F,2),P=(E[0],E[1],i.a.useState([])),D=Object(c.a)(P,2),W=(D[0],D[1]),U=i.a.useState(""),M=Object(c.a)(U,2),J=(M[0],M[1],i.a.useState("")),G=Object(c.a)(J,2),q=(G[0],G[1],i.a.useState("")),H=Object(c.a)(q,2),V=(H[0],H[1],i.a.useState("")),$=Object(c.a)(V,2),Y=($[0],$[1],i.a.useState("")),K=Object(c.a)(Y,2);K[0],K[1];i.a.useEffect((function(){null!=t.usuario&&yi(W,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.names),b(e.sistema.document),f(e.sistema.address),y(e.sistema.cellphone),k(e.sistema.email),z(e.sistema.landline))}),[e.sistema]);var X=function(){o(""),b(""),f(""),y(""),k(""),z(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:br,keepMounted:!0,onClose:function(){e.setOpen(!1),X()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Clientes"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de clientes":"Formulario de creaci\xf3n de clientes"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"C\xe9dula/RUC",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Direcci\xf3n",value:h,onChange:function(e){return f(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Celular",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Tel\xe9fono fijo",value:N,onChange:function(e){return z(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Correo",value:S,onChange:function(e){return k(e.target.value)}})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={names:r,document:d,address:h,cellphone:g,email:S,landline:N};null==e.sistema?function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/clients",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Wa(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}(a,t,X):function(e,t,a,n){var i=a.usuario,r=a.mostrarNotificacion,o=a.mostrarLoader,c={method:"PUT",url:Z+"clients/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),Wa(c).then((function(e){var t=e.data;"error"!=t.type?(n(),o(!1),r({type:"success",message:t.message})):(r({type:"error",message:t.message}),o(!1))})).catch((function(e){o(!1),r({type:"error",message:e.message})}))}(e.sistema.id,a,t,X),e.setOpen(!1),e.carga()},children:"Guardar"})]})]})}var Or=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function hr(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=a[0],r=a[1],o=i.a.useState(""),s=Object(c.a)(o,2),l=s[0],d=s[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Or,keepMounted:!0,onClose:function(){e.setOpen(!1),r(""),d("")},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Cambio"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Ingresel valor pagado por el cliente"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Ve.a,{variant:"outlined",label:"Valor",style:{width:"100%"},value:n,onChange:function(e){return r(e.target.value)}})}),""!=l&&Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsxs)(Je.a,{severity:"success",children:["Cambio: $",l]})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){e.setOpen(!1),r(""),d("")},color:"default",children:"Cerrar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){if(""!=n){var t=e.sistema;console.log(t),console.log(n);var a=Math.abs(t-n);d(a.toFixed(2))}},children:"Calcular"})]})]})}var fr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function mr(e){var t=i.a.useContext(ie),a=i.a.useState(!1),n=Object(c.a)(a,2),r=(n[0],n[1],i.a.useState(!1)),o=Object(c.a)(r,2),d=o[0],b=o[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(!1),x=Object(c.a)(m,2),g=x[0],y=x[1],v=i.a.useState(!1),C=Object(c.a)(v,2),S=C[0],k=C[1],w=i.a.useState(!1),A=Object(c.a)(w,2),N=A[0],z=A[1],R=i.a.useState(null),B=Object(c.a)(R,2),T=B[0],I=B[1],L=i.a.useState(""),_=Object(c.a)(L,2),F=_[0],E=_[1],P=i.a.useState(""),D=Object(c.a)(P,2),W=D[0],U=D[1],M=i.a.useState([]),J=Object(c.a)(M,2),G=(J[0],J[1],i.a.useState([])),q=Object(c.a)(G,2),H=q[0],V=q[1],$=i.a.useState([]),Y=Object(c.a)($,2),Z=(Y[0],Y[1]),X=i.a.useState([]),Q=Object(c.a)(X,2),ee=(Q[0],Q[1]),te=i.a.useState(""),ae=Object(c.a)(te,2),ne=(ae[0],ae[1],i.a.useState("")),re=Object(c.a)(ne,2),oe=(re[0],re[1],i.a.useState([])),se=Object(c.a)(oe,2),le=se[0],de=se[1],ue=i.a.useState(""),je=Object(c.a)(ue,2),be=je[0],pe=je[1],Oe=i.a.useState(null),he=Object(c.a)(Oe,2),fe=he[0],me=he[1],xe=i.a.useState([]),ge=Object(c.a)(xe,2),ye=ge[0],ve=ge[1],Ce=i.a.useState(""),Se=Object(c.a)(Ce,2),ke=Se[0],we=Se[1],Ae=i.a.useState(0),Ne=Object(c.a)(Ae,2),ze=Ne[0],Re=Ne[1],Be=i.a.useState(0),Te=Object(c.a)(Be,2),Ie=Te[0],_e=Te[1],Fe=i.a.useState(0),Ee=Object(c.a)(Fe,2),De=Ee[0],We=Ee[1];i.a.useEffect((function(){null!=t.usuario&&(Kn(ee,t),Ra(de,t),Ua(ve,t))}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&e.open&&(console.log(e.open),V([]),Z([]),_n(e.sistema.id,V,t))}),[e.sistema,e.open]);var Ue=function(e){mn(e,t)},Me=function(){_e(0),E(""),Re(0),we(""),b(!1),pe(""),We(0),V([]),Z([]),e.setSelected(null),e.setOpen(!1),e.carga()},Ge=function(e,t){return{unity:e-e%1,frac:1*(e%1*t).toFixed(1)}},qe=function(){if(""!=be&&""!=F&&F>0&&F>0){var e=H.slice(),a=ze,n=Ie,i=!1;if(!function(e){var t=!1;return H.map((function(a){a.product_id==e&&(t=!0)})),t}(fe.id))if(fe.stock-F>=0){var r=1*(F%1*fe.fraction).toFixed(1),o=F-F%1;e.push({image:fe.image,description:fe.description,unity:o,warehouse:fe.warehouse,has_iva:fe.has_iva,product:fe.name,bar_code:fe.bar_code,stock:fe.stock-F,product_id:fe.id,quantity:F,fraction:r,price:fe.sale_price,subtotal:F*fe.sale_price}),a+=F*fe.sale_price,n+=0==fe.has_iva?F*fe.sale_price:0}else i=!0;Re(a),_e(n),V(e),E(""),U(""),pe(""),me(null),i?t.mostrarNotificacion({type:"warning",message:"No hay suficiente stock"}):0==e.length&&t.mostrarNotificacion({type:"warning",message:"Producto ya agregado"})}else t.mostrarNotificacion({type:"warning",message:"No deje campos vac\xedos"})},He=function(e,t,a){if(console.log(e),null==e)return 0;if("cantidad"==t)return a>e.stock?0:e.fraction*a;if("fraccion"==t){console.log("valor cambiar"+a);var n=e.stock*e.fraction;return console.log("valor maximo"+n),a>n?0:1*a/e.fraction}};return Object(Le.jsxs)(Ba.a,{fullWidth:!0,maxWidth:"lg",fullScreen:!0,open:e.open,TransitionComponent:fr,keepMounted:!0,onClose:function(){e.setOpen(!1),Me()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(Bn,{ancho:!0,body:Object(Le.jsx)("img",{style:{height:"100%",width:"100%"},src:K+"storage/"+T}),open:N,setOpen:z,accion:function(){I(null),z(!1)},titulo:"Foto del producto"}),Object(Le.jsx)(hr,{sistema:(ze+.12*(ze-Ie)).toFixed(2),setSelected:function(){return null},setOpen:y,open:g,carga:function(){return null}}),Object(Le.jsx)(Bn,{open:S,setOpen:k,accion:function(){return 0==d&&""==ke?(t.mostrarNotificacion({type:"warning",message:"Seleccione un cliente"}),!1):0==ze?(t.mostrarNotificacion({type:"warning",message:"No puede hacer una factura por valor 0"}),!1):(function(e,t,a,n){var i=t.usuario,r=t.mostrarNotificacion,o=t.mostrarLoader,c={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/invoices",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),Ya(c).then((function(e){var t=e.data;"error"!=t.type?(o(!1),r({type:"success",message:t.message}),a(),n(t.numero_factura)):(r({type:"error",message:t.message}),o(!1))})).catch((function(e){o(!1),r({type:"error",message:e.message})}))}({discount:De,iva:.12*(ze-Ie),client_id:d?"":ke,final_consumer:d?1:0,total:ze+.12*(ze-Ie),data:H},t,Me,Ue),e.setOpen(!1),void Ra(de,t))},titulo:"\xbfDesea continuar? Se crear\xe1 la factura",customAction:Object(Le.jsx)(u.a,{startIcon:Object(Le.jsx)(ga.a,{}),color:"primary",onClick:function(){y(!0),k(!1)},children:"Cambio"})}),Object(Le.jsx)(pr,{sistema:null,setSelected:function(){return null},setOpen:f,open:h,carga:function(){Ua(ve,t)}}),Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:Object(Le.jsx)("span",{children:"Factura"})}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsxs)(La.a,{id:"alert-dialog-slide-description",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Seleccione el cliente y productos a facturar",Object(Le.jsxs)("div",{style:{display:"flex"},children:[Object(Le.jsx)(Pn.a,{title:"Crear cliente",children:Object(Le.jsx)(l.a,{"aria-label":"add_proveedor",onClick:function(){return f(!0)},children:Object(Le.jsx)(Dn.a,{})})}),Object(Le.jsx)(Pn.a,{title:d?"Cliente":"Consumidor final",children:Object(Le.jsx)(l.a,{"aria-label":"cambiar",onClick:function(){return b(!d)},children:d?Object(Le.jsx)(dr.a,{}):Object(Le.jsx)(jr.a,{})})})]})]}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[!d&&Object(Le.jsx)(j.a,{item:!0,xs:12,md:6,style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},size:"small",options:ye,value:function(e){var t=null;return ye.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(ke),onChange:function(e,t){we(null!=t?t.id:"")},getOptionLabel:function(e){return e.document+" - "+e.names},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({variant:"outlined"},e),{},{label:"Seleccione un cliente",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:d?12:6,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},size:"small",options:le,value:function(e,t){var a=null;return t.map((function(t){e==t.id&&(a=Object(s.a)({},t))})),a}(be,le),onChange:function(e,t){null!=t?(pe(t.id),me(t),E(1),U(t.fraction)):(me(null),pe(""))},getOptionLabel:function(e){return e.bar_code+" - "+e.name+"- Unidad: "+Ge(e.stock,e.fraction).unity+(0!=e.fraction?" - fraccion: "+Ge(e.stock,e.fraction).frac:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({variant:"outlined"},e),{},{label:"Seleccione un producto",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:null!=fe&&0!=fe.fraction?6:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",size:"small",label:"Unidad",value:F,onChange:function(e){E(e.target.value),null!=fe&&0!=fe.fraction&&U(He(fe,"cantidad",e.target.value))}})]}),null!=fe&&0!=fe.fraction?Object(Le.jsxs)(j.a,{item:!0,xs:12,md:6,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},size:"small",label:"Fracciones",value:W,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&(U(e.target.value),E(1*He(fe,"fraccion",e.target.value).toFixed(3)))}})]}):null,(0==F&&0!=W||0==W&&0!=F)&&null!=fe&&0!=fe.fraction?Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Je.a,{severity:"info",children:"No hay stock suficiente"})}):null,Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Sa.a,{id:1,icons:ya,columns:[{title:"Im\xe1gen",field:"avatar",editable:"never",render:function(e){return Object(Le.jsx)("img",{onClick:function(){z(!0),I(e.image)},style:{height:36,width:36,borderRadius:36,cursor:"pointer"},src:K+"storage/"+e.image})}},{title:"Laboratorio",field:"warehouse",render:function(e){return Object(Le.jsx)("span",{children:e.warehouse})},editable:"never"},{title:"Producto",field:"product",render:function(e){return Object(Le.jsx)("span",{children:e.product})},editable:"never"},{title:"Descripcion",field:"description",render:function(e){return Object(Le.jsx)("span",{children:e.description})},editable:"never"},{title:"Descuento",field:"discount",type:"currency"},{title:"Unidades",field:"unity",editable:"never"},{title:"Fracciones",field:"fraction",editable:"never"},{title:"Precio",field:"price",type:"currency"},{title:"SubTotal",field:"subtotal",type:"currency",editable:"never"}],cellEditable:{onCellEditApproved:function(e,t,a,n){return new Promise((function(i,r){setTimeout((function(){if(""!==e&&e>=0){var r=Object(sr.a)(H),o=a.tableData.id;r[o][n.field]=e;var c=(r[o].quantity*r[o].price).toFixed(2);c=r[o].hasOwnProperty("discount")?c-r[o].discount:c;var s=0;if("discount"==n.field&&r[o].hasOwnProperty("discount")){var l=r[o].discount-(void 0!=t?t:0);console.log(r[o].discount),console.log(t),s=De+l}var d=parseFloat(ze-r[o].subtotal)+parseFloat(c),u=0==r[o].has_iva?d:0;r[o].subtotal=c,Re(d),_e(u),We(s),V(Object(sr.a)(r))}i()}),1e3)}))}},data:H,title:"Productos",localization:va,actions:[{icon:ya.Add,tooltip:"Agregar",isFreeAction:!0,onClick:function(e,t){qe()}},{icon:ya.MonetizationOnIcon,tooltip:"Cambio",isFreeAction:!0,onClick:function(e,t){y(!0)}},{icon:ya.Delete,tooltip:"Eliminar",onClick:function(e,t){!function(e){console.log(Ie);var t=e.tableData.id,a=H.slice(),n=ze-e.subtotal,i=0==e.has_iva?Ie-e.subtotal:Ie,r=De-e.hasOwnProperty("discount")?e.discount:0;V(a.filter((function(e,a){return a!=t}))),E(""),We(r),pe(""),Re(n),_e(i)}(t)}}],components:{Container:function(e){return Object(Le.jsx)(Pe.a,Object(s.a)(Object(s.a)({},e),{},{elevation:0}))}},options:{pageSize:10,paging:!1,search:!1,actionsColumnIndex:-1,width:"100%",maxBodyHeight:200,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}},1)}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",label:"SubTotal",value:ze.toFixed(2),InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",label:"Descuento",value:De.toFixed(2),InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",label:"Iva",value:(.12*(ze-Ie)).toFixed(2),InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"flex-end"},children:Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",label:"Total",value:(ze+.12*(ze-Ie)).toFixed(2),InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){Me()},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",disabled:0==H.length,onClick:function(){k(!0)},children:"Guardar"})]})]})}var xr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function gr(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:xr,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Yn(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var yr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function vr(e){var t=i.a.useContext(ie),a=i.a.useState(0),n=Object(c.a)(a,2),r=n[0],o=n[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:yr,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Caja"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Coloque el valor con el que abrir\xe1 la caja"}),Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"number",label:"Monto inicial",value:r,InputProps:{startAdornment:Object(Le.jsx)(Xe.a,{position:"start",children:"$"})},onChange:function(e){o(e.target.value)}})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){!function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/cash",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),xn(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1),a())})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}({start_amount:r},t,e.carga),e.setOpen(!1),o("")},children:"Abrir"})]})]})}var Cr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Sr(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Cr,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function kr(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(!1),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(null),N=Object(c.a)(A,2),z=N[0],R=N[1],B=i.a.useState(!1),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState(!1),F=Object(c.a)(_,2),E=F[0],P=F[1],D=i.a.useState(null),W=Object(c.a)(D,2),U=W[0],M=W[1];i.a.useEffect((function(){null!=t.usuario&&(Za(o,t),Cn(M,t,!0))}),[t.usuario]);var J=function(){Za(o,t),w(null),R(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(mr,{sistema:k,setSelected:w,setOpen:b,open:d,carga:J}),Object(Le.jsx)(gr,{sistema:z,setOpen:y,open:g,carga:J}),Object(Le.jsx)(vr,{setOpen:f,open:h,carga:function(){Cn(M,t)}}),Object(Le.jsx)(Sr,{setOpen:L,open:I}),Object(Le.jsx)(Bn,{open:E,setOpen:P,accion:function(){!function(e,t,a){var n=t.usuario,i=t.mostrarNotificacion,r=t.mostrarLoader,o={method:"POST",url:Z+"invoices/cancel/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Ya(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message}),a()):(i({type:"error",message:t.message}),r(!1),a())})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}(z.id,t,J)},titulo:"\xbfDesea continuar? Se anular\xe1 la factura."}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Facturas"}),0==U?Object(Le.jsx)(u.a,{onClick:function(){return f(!0)},startIcon:Object(Le.jsx)(cr.a,{}),variant:"outlined",color:"primary",children:"Abrir Caja"}):null,1==U?Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"}):null]}),0==U?Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(Je.a,{severity:"warning",children:"No ha abierto la caja a\xfan"})}):null,Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Factura #",field:"id"},{title:"Estado",field:"status",render:function(e){return Object(Le.jsx)("span",{children:"A"==e.status?"Emitida":"Anulada"})}},{title:"Documento",field:"document",render:function(e){return Object(Le.jsx)("span",{children:1==e.final_consumer?"-":e.document})}},{title:"Cliente",field:"names",render:function(e){return Object(Le.jsx)("span",{children:1==e.final_consumer?"Consumidor Final":e.names})}},{title:"IVA",field:"iva"},{title:"Total",field:"total",render:function(e){return Object(Le.jsxs)("span",{children:["$",e.total]})}},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Delete,tooltip:"Anular",onClick:function(e,a){"C"!=a.status?"C"!=U?(P(!0),R(a)):t.mostrarNotificacion({type:"warning",message:"La caja ya esta cerrada"}):t.mostrarNotificacion({type:"warning",message:"La factura ya est\xe1 anulada"})}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var wr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Ar(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:wr,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){!function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion),r=t.mostrarLoader,o={method:"DELETE",url:Z+"clients/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Wa(o).then((function(e){var t=e.data;"error"!=e.data.type?(r(!1),i({type:"success",message:t.message}),a()):(r(!1),i({type:"error",message:t.message}))})).catch((function(e){r(!1),i({type:"success",message:e.message})}))}(e.sistema.id,t,e.carga),e.setOpen(!1)},children:"Eliminar"})]})]})}var Nr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function zr(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Nr,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function Rr(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(null),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1];i.a.useEffect((function(){null!=t.usuario&&Ua(o,t)}),[t.usuario]);var B=function(){Ua(o,t),y(null),w(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(pr,{sistema:g,setSelected:y,setOpen:b,open:d,carga:B}),Object(Le.jsx)(Ar,{sistema:k,setOpen:f,open:h,carga:B}),Object(Le.jsx)(zr,{setOpen:R,open:z}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Clientes"}),Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Documento",field:"document"},{title:"Nombres",field:"names"},{title:"Celular",field:"cellphone"},{title:"Tel\xe9fono",field:"landline"},{title:"Direcci\xf3n",field:"address"},{title:"Correo",field:"email"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){y(t),b(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){w(t),f(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return R(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Br=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Tr(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(""),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(""),O=Object(c.a)(p,2),h=(O[0],O[1]),f=i.a.useState(""),m=Object(c.a)(f,2),x=(m[0],m[1]),g=i.a.useState(""),y=Object(c.a)(g,2),v=y[0],C=y[1],S=i.a.useState(""),k=Object(c.a)(S,2),w=(k[0],k[1]),A=i.a.useState(""),N=Object(c.a)(A,2),z=(N[0],N[1],i.a.useState("")),R=Object(c.a)(z,2),B=(R[0],R[1],i.a.useState("")),T=Object(c.a)(B,2),I=(T[0],T[1],i.a.useState("")),L=Object(c.a)(I,2),_=(L[0],L[1],i.a.useState([])),F=Object(c.a)(_,2),E=(F[0],F[1]),P=i.a.useState(""),D=Object(c.a)(P,2),W=(D[0],D[1],i.a.useState("")),U=Object(c.a)(W,2),M=(U[0],U[1],i.a.useState("")),J=Object(c.a)(M,2),G=J[0],q=J[1],H=i.a.useState(""),V=Object(c.a)(H,2),$=V[0],Y=V[1],K=i.a.useState([]),X=Object(c.a)(K,2),Q=X[0],ee=X[1],te=i.a.useState(""),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],oe=i.a.useState(""),se=Object(c.a)(oe,2);se[0],se[1];i.a.useEffect((function(){null!=t.usuario&&(yi(E,t),Ne(ee,t))}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.names),Y(e.sistema.last_names),b(e.sistema.dni),C(e.sistema.email),function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion,a.mostrarLoader,{method:"Get",url:Z+"user/role?user_id="+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}});Ae(i).then((function(e){var a=e.data;"error"!=a.type&&t(a.role)})).catch((function(e){}))}(e.sistema.id,re,t))}),[e.sistema]);var le=function(){o(""),b(""),q(""),h(""),Y(""),re(""),x(""),C(""),w(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Br,keepMounted:!0,onClose:function(){e.setOpen(!1),le()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Personal"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de usuarios":"Formulario de creaci\xf3n de usuarios"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"C\xe9dula/RUC",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombres ",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Apellidos ",value:$,onChange:function(e){return Y(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Correo",value:v,onChange:function(e){return C(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"password",label:"Clave",value:G,onChange:function(e){return q(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsxs)(Ye.a,{style:{width:"100%"},variant:"outlined",children:[Object(Le.jsx)(Ze.a,{id:"demo-simple-select-filled-label",children:"Rol"}),Object(Le.jsxs)(ci.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:ne,onChange:function(e){return re(e.target.value)},label:"Rol",children:[Object(Le.jsx)(oi.a,{value:"",children:Object(Le.jsx)("em",{children:"Seleccione una opci\xf3n"})}),Q.map((function(e){return Object(Le.jsx)(oi.a,{value:e.name,children:e.name})}))]})]})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){le(),e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={names:r,last_names:$,dni:d,email:v,password:G,rol:ne};null==e.sistema?Te(a,t,le):Re(e.sistema.id,a,t,le),e.setOpen(!1)},children:"Guardar"})]})]})}var Ir=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Lr(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Ir,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Be(e.sistema.id,t,e.carga),e.setOpen(!1)},children:"Eliminar"})]})]})}var _r=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Fr(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:_r,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function Er(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(null),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1];i.a.useEffect((function(){null!=t.usuario&&Ie(o,t)}),[t.usuario]);var B=function(){Ie(o,t),y(null),w(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Tr,{sistema:g,setSelected:y,setOpen:b,open:d,carga:B}),Object(Le.jsx)(Lr,{sistema:k,setOpen:f,open:h,carga:B}),Object(Le.jsx)(Fr,{setOpen:R,open:z}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Personal"}),Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Documento",field:"dni"},{title:"Nombres",field:"names"},{title:"Apellidos",field:"last_names"},{title:"Correo",field:"email"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){y(t),b(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){w(t),f(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return R(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Pr=a(52),Dr=function(e,t,a,n){var i=t.usuario,r=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/kardex",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}});Pr(r).then((function(t){var i=t.data;"error"!=i.type&&(e(i.data),a(i.entrada),n(i.salida))})).catch((function(e){}))};function Wr(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(0),l=Object(c.a)(s,2),d=l[0],u=l[1],b=i.a.useState(0),p=Object(c.a)(b,2),O=p[0],h=p[1],f=i.a.useState(!1),m=Object(c.a)(f,2),x=(m[0],m[1],i.a.useState(!1)),g=Object(c.a)(x,2),y=(g[0],g[1],i.a.useState(null)),C=Object(c.a)(y,2),S=(C[0],C[1],i.a.useState(null)),k=Object(c.a)(S,2),w=(k[0],k[1],i.a.useState(!1)),A=Object(c.a)(w,2);A[0],A[1];i.a.useEffect((function(){null!=t.usuario&&Dr(o,t,u,h)}),[t.usuario]);var N=function(e,t){return{unity:e-e%1,frac:1*(e%1*t).toFixed(1)}};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:Object(Le.jsx)(ee.a,{variant:"h5",children:"Kardex"})}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:[Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})}),Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Entrada"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:d}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})}),Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Salida"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:O}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Producto",field:"name"},{title:"Laboratorio",field:"warehouse"},{title:"Concepto",field:"concept",render:function(e){return Object(Le.jsx)("span",{children:"E"==e.concept?"Entrada":"Salida"})}},{title:"Mov. Unidades",field:"quantity",render:function(e){return Object(Le.jsx)("span",{children:N(e.quantity,e.fraction).unity})}},{title:"Mov. Fracciones",field:"quantity",render:function(e){return Object(Le.jsx)("span",{children:N(e.quantity,e.fraction).frac})}},{title:"Saldo unidad",field:"stock",render:function(e){return Object(Le.jsx)("span",{children:N(e.stock,e.fraction).unity})}},{title:"Saldo fracci\xf3n",field:"fraction",render:function(e){return Object(Le.jsx)("span",{children:N(e.stock,e.fraction).frac})}},{title:"Tipo",field:"type",render:function(e){return Object(Le.jsx)("span",{children:"V"==e.type?"Venta":"C"==e.type?"Compra":"A"==e.type?"Ajuste":"Anulaci\xf3n"})}},{title:"Usuario",field:"names"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var Ur=a(671),Mr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Jr(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(""),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(""),O=Object(c.a)(p,2),h=(O[0],O[1]),f=i.a.useState(""),m=Object(c.a)(f,2),x=(m[0],m[1]),g=i.a.useState(""),y=Object(c.a)(g,2),v=y[0],C=y[1],S=i.a.useState(""),k=Object(c.a)(S,2),w=(k[0],k[1]),A=i.a.useState(""),N=Object(c.a)(A,2),z=(N[0],N[1],i.a.useState("")),R=Object(c.a)(z,2),B=(R[0],R[1],i.a.useState("")),T=Object(c.a)(B,2),I=(T[0],T[1],i.a.useState("")),L=Object(c.a)(I,2),_=(L[0],L[1],i.a.useState([])),F=Object(c.a)(_,2),E=(F[0],F[1]),P=i.a.useState(""),D=Object(c.a)(P,2),W=(D[0],D[1],i.a.useState("")),U=Object(c.a)(W,2),M=(U[0],U[1],i.a.useState("")),J=Object(c.a)(M,2),G=J[0],q=J[1],H=i.a.useState(""),V=Object(c.a)(H,2),$=V[0],Y=V[1],Z=i.a.useState(""),K=Object(c.a)(Z,2);K[0],K[1];i.a.useEffect((function(){null!=t.usuario&&yi(E,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.names),Y(e.sistema.last_names),b(e.sistema.dni),C(e.sistema.email))}),[e.sistema]);var X=function(){o(""),b(""),q(""),h(""),Y(""),x(""),C(""),w(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Mr,keepMounted:!0,onClose:function(){e.setOpen(!1),X()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Personal"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de usuarios":"Formulario de creaci\xf3n de usuarios"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"C\xe9dula/RUC",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombres ",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Apellidos ",value:$,onChange:function(e){return Y(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Correo",value:v,onChange:function(e){return C(e.target.value)}})]}),Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},type:"password",label:"Clave",value:G,onChange:function(e){return q(e.target.value)}})]})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){X(),e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={names:r,last_names:$,dni:d,email:v,password:G};null==e.sistema?(Te(a,t),X()):(Re(e.sistema.id,a,t),X()),e.setOpen(!1),e.carga()},children:"Guardar"})]})]})}var Gr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function qr(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Gr,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){Be(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var Hr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function Vr(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Hr,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}var $r=a(469),Yr=a.n($r);function Zr(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],d=i.a.useState(null),b=Object(c.a)(d,2),p=b[0],O=b[1],h=i.a.useState(null),f=Object(c.a)(h,2),m=f[0],x=f[1],g=i.a.useState([]),y=Object(c.a)(g,2),v=(y[0],y[1]),C=i.a.useState(!1),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(""),N=Object(c.a)(A,2),z=N[0],R=N[1],B=i.a.useState(!1),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState(null),F=Object(c.a)(_,2),E=F[0],P=F[1],D=i.a.useState(null),W=Object(c.a)(D,2),U=W[0],M=W[1],J=i.a.useState(!1),G=Object(c.a)(J,2),q=G[0],H=G[1],V=i.a.useState(""),$=Object(c.a)(V,2),Y=$[0],Z=$[1],K=i.a.useState(!1),X=Object(c.a)(K,2),Q=X[0],te=X[1],ae=i.a.useState(""),ne=Object(c.a)(ae,2),re=ne[0],oe=ne[1],ce=i.a.useState([]),se=Object(c.a)(ce,2),le=se[0],de=se[1],ue=i.a.useState(!1),je=Object(c.a)(ue,2),be=je[0],pe=je[1];i.a.useEffect((function(){null!=t.usuario&&(Ie(v,t),Ie(de,t),O(Oe()),x(he()))}),[t.usuario]);var Oe=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)},he=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)},fe=function(){Ie(v,t),P(null),M(null)},me=function(){R(""),oe(""),Z(""),O(Oe()),x(he()),pe(!1)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Jr,{sistema:E,setSelected:P,setOpen:w,open:k,carga:fe}),Object(Le.jsx)(qr,{sistema:U,setOpen:L,open:I,carga:fe}),Object(Le.jsx)(Vr,{setOpen:H,open:q}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:Object(Le.jsx)(ee.a,{variant:"h5",children:"Reporte"})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(j.a,{xs:12,md:12,children:Object(Le.jsxs)(lt.a,{children:[Object(Le.jsx)(dt.a,{children:Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsxs)(Ye.a,{variant:"outlined",style:{width:"100%"},children:[Object(Le.jsx)(Ze.a,{id:"demo-simple-select-outlined-label",style:{width:"100%"},children:"Seleccione el reporte"}),Object(Le.jsxs)(ci.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:r,style:{width:"100%"},onChange:function(e){o(e.target.value),Z(""),me()},label:"Seleccione el reporte",children:[Object(Le.jsx)(oi.a,{value:"",children:Object(Le.jsx)("em",{children:"Seleccione una opci\xf3n"})}),Object(Le.jsx)(oi.a,{value:"facturas",children:"Facturas"}),Object(Le.jsx)(oi.a,{value:"compras",children:"Compras"}),Object(Le.jsx)(oi.a,{value:"kardex",children:"Kardex"}),Object(Le.jsx)(oi.a,{value:"clientes",children:"Clientes"}),Object(Le.jsx)(oi.a,{value:"productos",children:"Productos"}),Object(Le.jsx)(oi.a,{value:"caja",children:"Caja"})]})]}),Object(Le.jsx)(l.a,{"aria-label":"delete",onClick:function(){te(!Q),0==!Q&&me()},children:Object(Le.jsx)(Rt.a,{})})]}),Q&&Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)(ee.a,{children:"Filtrar por"})}),"facturas"==r&&Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",style:{width:"100%"},type:"number",label:"N\xfamero",value:Y,onChange:function(e){return Z(e.target.value)}})]}),"productos"==r||"kardex"==r?Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",size:"small",style:{width:"100%"},type:"number",label:"Codigo de Barras",value:z,onChange:function(e){return R(e.target.value)}})]}):null,Object(Le.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(Le.jsx)(dn.b,{style:{width:"100%"},utils:ln.default,locale:bn.a,children:Object(Le.jsx)(un.b,{autoOk:!0,ampm:!1,size:"small",inputVariant:"outlined",label:"Desde",style:{width:"100%"},format:"yyyy-MM-dd",value:p,onChange:function(e){return O(e)}})})}),Object(Le.jsx)(j.a,{item:!0,md:6,xs:12,children:Object(Le.jsx)(dn.b,{utils:ln.default,locale:bn.a,children:Object(Le.jsx)(un.b,{autoOk:!0,ampm:!1,size:"small",inputVariant:"outlined",label:"Hasta",style:{width:"100%"},format:"yyyy-MM-dd",value:m,onChange:function(e){return x(e)}})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:le,value:function(e,t){var a=null;return t.map((function(t){e==t.id&&(a=Object(s.a)({},t))})),a}(re,le),getOptionLabel:function(e){return e.dni+" - "+e.names},onChange:function(e,t){oe(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione un usuario",variant:"outlined",fullWidth:!0}))}})}),"facturas"==r&&Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(qn.a,{control:Object(Le.jsx)(De.a,{checked:be,onChange:function(){return pe(!be)},name:"checkedA"}),label:"Formato Ticket"})})]})})]})}),Object(Le.jsx)(Ur.a,{children:Object(Le.jsx)(u.a,{variant:"contained",disabled:""==r,startIcon:Object(Le.jsx)(Yr.a,{}),size:"small",color:"primary",onClick:function(){if(be)mn(Y,t);else{var e=[];Q&&(e=[{tipo:"usuario",valor:re},{tipo:"numero_factura",valor:Y},{tipo:"desde",valor:null!=p?Va(p):""},{tipo:"hasta",valor:null!=m?Va(m):""},{tipo:"codigo_barras",valor:z}]),fn(r,t,e)}},children:"Imprimir reporte"})})]})})})]})}var Kr=a(269),Xr=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))})),Qr={PaperProps:{style:{maxHeight:224,width:250}}};function eo(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState([]),l=Object(c.a)(s,2),d=(l[0],l[1],i.a.useState("")),b=Object(c.a)(d,2),p=(b[0],b[1],i.a.useState([])),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState([]),x=Object(c.a)(m,2),g=x[0],y=x[1];i.a.useEffect((function(){null!=t.usuario&&function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/permisos",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});Ae(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.permisos)})).catch((function(e){}))}(f,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.name),function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion,a.mostrarLoader,{method:"Get",url:Z+"role/permissions/get?rol="+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}});Ae(i).then((function(e){var a=e.data;"error"!=a.type&&t(a.permisos)})).catch((function(e){}))}(e.sistema.name,y,t))}),[e.sistema]);var v=function(){!function(e,t){var a=t.usuario,n=t.mostrarNotificacion,i=t.mostrarLoader,r={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/role/asign-multiple",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),Ae(r).then((function(e){var t=e.data;"error"!=t.type?(i(!1),n({type:"success",message:t.message})):(n({type:"error",message:t.message}),i(!1))})).catch((function(e){i(!1),n({type:"error",message:e.message})}))}({permisos:g,rol:r},t)},C=function(){o(""),y([]),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Xr,keepMounted:!0,onClose:function(){e.setOpen(!1),C()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Roles"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de roles":"Formulario de creaci\xf3n de roles"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,md:12,xs:12,children:Object(Le.jsxs)(Ye.a,{variant:"outlined",style:{width:"100%"},children:[Object(Le.jsx)(Ze.a,{id:"demo-mutiple-checkbox-label",children:"Seleccione los permisos"}),Object(Le.jsx)(ci.a,{variant:"outlined",labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:g,onChange:function(e){y(e.target.value)},input:Object(Le.jsx)(Kr.a,{}),renderValue:function(e){return e.join(", ")},MenuProps:Qr,children:h.map((function(e){return Object(Le.jsxs)(oi.a,{value:e,children:[Object(Le.jsx)(Hn.a,{checked:g.indexOf(e)>-1}),Object(Le.jsx)(T.a,{primary:e})]},e)}))})]})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){e.setOpen(!1),C()},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={nombre:r};null==e.sistema?function(e,t,a,n){var i=t.usuario,r=t.mostrarNotificacion,o=t.mostrarLoader,c={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/role/create",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),Ae(c).then((function(e){var t=e.data;"error"!=t.type?(a(),o(!1),r({type:"success",message:t.message}),n()):(r({type:"error",message:t.message}),o(!1))})).catch((function(e){o(!1),r({type:"error",message:e.message})}))}(a,t,v,C):function(e,t,a,n){var i=a.usuario,r=a.mostrarNotificacion,o=a.mostrarLoader,c={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/role/edit",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(i)).token}};o(!0),Ae(c).then((function(e){var a=e.data;"error"!=a.type?(o(!1),r({type:"success",message:a.message}),t(),n()):(r({type:"error",message:a.message}),o(!1))})).catch((function(e){o(!1),r({type:"error",message:e.message})}))}({id:e.sistema.id,rol:e.sistema.name,name:r},v,t,C),e.setOpen(!1)},children:"Guardar"})]})]})}var to=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ao(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:to,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){!function(e,t,a){var n=t.usuario,i=(t.cargarUsuario,t.mostrarNotificacion),r=t.mostrarLoader,o={rol:e},c={method:"DELETE",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/role/delete",data:o,body:o,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),Ae(c).then((function(e){var t=e.data;"error"!=e.data.type?(r(!1),i({type:"success",message:t.message}),a()):(r(!1),i({type:"error",message:t.message}))})).catch((function(e){r(!1),i({type:"success",message:e.message})}))}(e.sistema.name,t,e.carga),e.setOpen(!1)},children:"Eliminar"})]})]})}var no=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function io(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:no,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function ro(e){var t=i.a.useContext(ie),a=i.a.useState(null),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState([]),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(!1),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(!1),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(null),N=Object(c.a)(A,2),z=N[0],R=N[1],B=i.a.useState(null),T=Object(c.a)(B,2),I=T[0],L=T[1],_=i.a.useState(!1),F=Object(c.a)(_,2),E=F[0],P=F[1];i.a.useEffect((function(){null!=t.usuario&&Ne(f,t)}),[t.usuario]);var D=function(){Ne(f,t),R(null),L(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(Bn,{ancho:!0,body:Object(Le.jsx)("img",{style:{height:"100%",width:"100%"},src:K+"storage/"+r}),open:d,setOpen:b,accion:function(){o(null),b(!1)},titulo:"Foto del producto"}),Object(Le.jsx)(eo,{sistema:z,setSelected:R,setOpen:y,open:g,carga:D}),Object(Le.jsx)(ao,{sistema:I,setOpen:w,open:k,carga:D}),Object(Le.jsx)(io,{setOpen:P,open:E}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Roles"}),Object(Le.jsx)(u.a,{onClick:function(){return y(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:h.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name"},{title:"Registro",field:"created_at",type:"datetime"}],data:h,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){R(t),y(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){L(t),w(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return P(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var oo=a(278),co=a.n(oo),so=a(212),lo=a.n(so),uo=Object(te.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),jo=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function bo(e){var t=i.a.useContext(ie),a=uo(),n=i.a.useState(!1),r=Object(c.a)(n,2),o=r[0],s=r[1],p=i.a.useState([]),O=Object(c.a)(p,2),h=O[0],f=O[1];i.a.useEffect((function(){null!=t.usuario&&yn(f,t)}),[t.usuario]);var m=function(){s(!1)},x=function(){yn(f,t),m(),e.carga()};return Object(Le.jsxs)("div",{children:[Object(Le.jsx)(u.a,{startIcon:Object(Le.jsx)(lo.a,{}),variant:"outlined",color:"primary",onClick:function(){s(!0)},children:"Cerrar caja"}),Object(Le.jsxs)(Ba.a,{fullScreen:!0,open:o,onClose:m,TransitionComponent:jo,children:[Object(Le.jsx)(b.a,{className:a.appBar,children:Object(Le.jsxs)(d.a,{children:[Object(Le.jsx)(l.a,{edge:"start",color:"inherit",onClick:m,"aria-label":"close",children:Object(Le.jsx)(co.a,{})}),Object(Le.jsx)(ee.a,{variant:"h6",className:a.title,children:"Caja"}),Object(Le.jsx)(u.a,{autoFocus:!0,color:"inherit",onClick:function(){gn({data:h},t,x)},children:"Cerrar caja"})]})}),Object(Le.jsx)(j.a,{container:!0,spacing:2,children:Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name",editable:"never"},{title:"Valor",field:"amount",editable:"never"},{title:"Cantidad",field:"quantity",type:"numeric"}],data:h,localization:va,title:"Desglose",cellEditable:{onCellEditApproved:function(e,t,a,n){return new Promise((function(t,n){setTimeout((function(){if(""!==e&&(console.log(e),console.log(e>=0),e>=0)){var n=Object(sr.a)(h);n[a.tableData.id].quantity=e,f(Object(sr.a)(n))}t()}),1e3)}))}},options:{pageSize:10,rowStyle:function(e){if(e.tableData.id%2)return{backgroundColor:"#f2f2f2"}},sorting:!1,paging:!1,actionsColumnIndex:-1,search:!1,maxBodyHeight:500,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})})]})]})}var po=Object(te.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Oo=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function ho(e){var t=i.a.useContext(ie),a=po(),n=i.a.useState([]),r=Object(c.a)(n,2),o=r[0],s=r[1];i.a.useEffect((function(){null!=t.usuario&&null!=e.id&&function(e,t,a){var n=a.usuario,i=(a.cargarUsuario,a.mostrarNotificacion,a.mostrarLoader),r={method:"Get",url:Z+"splits/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};i(!0),xn(r).then((function(e){var a=e.data;"error"!=a.type?(t(a.data),i(!1)):i(!1)})).catch((function(e){i(!1)}))}(e.id,s,t)}),[t.usuario,e.id]);var p=function(){e.setOpen(!1),s([]),e.setId(null)};return Object(Le.jsxs)(Ba.a,{fullScreen:!0,open:e.open,onClose:p,TransitionComponent:Oo,children:[Object(Le.jsx)(b.a,{className:a.appBar,children:Object(Le.jsxs)(d.a,{children:[Object(Le.jsx)(l.a,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:Object(Le.jsx)(co.a,{})}),Object(Le.jsx)(ee.a,{variant:"h6",className:a.title,children:"Caja"}),Object(Le.jsx)(u.a,{autoFocus:!0,color:"inherit",onClick:function(){e.id;var a=[{tipo:"id_caja",valor:e.id}];fn("caja",t,a)},children:"Imprimir"})]})}),Object(Le.jsx)(j.a,{container:!0,spacing:2,children:Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name"},{title:"Valor",field:"amount"},{title:"Cantidad",field:"quantity",type:"numeric"}],data:o,localization:va,title:"Desglose",options:{pageSize:10,rowStyle:function(e){if(e.tableData.id%2)return{backgroundColor:"#f2f2f2"}},sorting:!1,paging:!1,actionsColumnIndex:-1,search:!1,maxBodyHeight:500,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})})]})}function fo(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(0),l=Object(c.a)(s,2),d=(l[0],l[1],i.a.useState(0)),u=Object(c.a)(d,2),b=(u[0],u[1],i.a.useState(!1)),p=Object(c.a)(b,2),O=(p[0],p[1],i.a.useState(null)),h=Object(c.a)(O,2),f=h[0],m=h[1],x=i.a.useState(!1),g=Object(c.a)(x,2),y=g[0],C=g[1],S=i.a.useState(!1),k=Object(c.a)(S,2),w=(k[0],k[1],i.a.useState(!1)),A=Object(c.a)(w,2),N=(A[0],A[1],i.a.useState(null)),z=Object(c.a)(N,2),R=(z[0],z[1]),B=i.a.useState(null),T=Object(c.a)(B,2),I=(T[0],T[1]),L=i.a.useState(!1),_=Object(c.a)(L,2),F=(_[0],_[1],i.a.useState(null)),E=Object(c.a)(F,2),P=E[0],D=E[1],W=i.a.useState(!1),U=Object(c.a)(W,2);U[0],U[1];i.a.useEffect((function(){null!=t.usuario&&(vn(o,t),Cn(D,t,!1))}),[t.usuario]);return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(ho,{open:y,setOpen:C,id:f,setId:m}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsxs)(ee.a,{variant:"h5",children:["Caja -     ",Object(Le.jsx)("span",{style:{color:0==P?"gray":"green"},children:0==P?"Cerrada":"Abierta"})]}),1==P?Object(Le.jsx)(bo,{carga:function(){vn(o,t),Cn(D,t,!1),R(null),I(null),fn("caja",t,[])}}):null]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"N\xfamero",field:"id"},{title:"Estado",field:"status",render:function(e){return Object(Le.jsx)("span",{children:"C"==e.status?"Cerrada":"Abierta"})}},{title:"Monto apertura",field:"start_amount"},{title:"Monto Final",field:"final_amount"},{title:"Usuario",field:"names"},{title:"Fecha apertura",field:"created_at",type:"datetime"},{title:"Fecha cierre",field:"updated_at",type:"datetime"}],data:r,actions:[{icon:ya.VisibilityOutlinedIcon,tooltip:"Ver Desglose",onClick:function(e,t){C(!0),console.log(t),m(t.id)}}],localization:va,options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var mo=a(52),xo=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function go(e){var t=i.a.useContext(ie),a=i.a.useState(""),n=Object(c.a)(a,2),r=n[0],o=n[1],l=i.a.useState(""),d=Object(c.a)(l,2),b=(d[0],d[1],i.a.useState("")),p=Object(c.a)(b,2),O=(p[0],p[1],i.a.useState("")),h=Object(c.a)(O,2),f=(h[0],h[1],i.a.useState("")),m=Object(c.a)(f,2),x=(m[0],m[1],i.a.useState([])),g=Object(c.a)(x,2),y=(g[0],g[1],i.a.useState("")),v=Object(c.a)(y,2),C=(v[0],v[1],i.a.useState("")),S=Object(c.a)(C,2),k=(S[0],S[1],i.a.useState("")),w=Object(c.a)(k,2),A=(w[0],w[1],i.a.useState("")),N=Object(c.a)(A,2),z=(N[0],N[1],i.a.useState("")),R=Object(c.a)(z,2),B=R[0],T=R[1],I=i.a.useState([]),L=Object(c.a)(I,2),_=L[0],F=L[1];i.a.useEffect((function(){null!=t.usuario&&function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion,t.mostrarLoader,{method:"Get",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/cities",headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}});mo(n).then((function(t){var a=t.data;"error"!=a.type&&e(a.data)})).catch((function(e){}))}(F,t)}),[t.usuario]),i.a.useEffect((function(){null!=e.sistema&&(o(e.sistema.name),T(e.sistema.city_id))}),[e.sistema]);var E=function(){o(""),T(""),e.setSelected(null),e.carga()};return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:xo,keepMounted:!0,onClose:function(){e.setOpen(!1),E()},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Zonas"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:null!=e.sistema?"Formulario de edici\xf3n de zonas":"Formulario de creaci\xf3n de zonas"}),Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsxs)(j.a,{item:!0,xs:12,children:["    ",Object(Le.jsx)(Ve.a,{variant:"outlined",style:{width:"100%"},label:"Nombre",value:r,onChange:function(e){return o(e.target.value)}})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex"},children:Object(Le.jsx)($a.a,{style:{width:"100%"},options:_,value:function(e){var t=null;return _.map((function(a){e==a.id&&(t=Object(s.a)({},a))})),t}(B),getOptionLabel:function(e){return e.name},onChange:function(e,t){T(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una ciudad",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){var a={name:r,city_id:B};null==e.sistema?(!function(e,t){var a=t.usuario,n=t.mostrarNotificacion,i=t.mostrarLoader,r={method:"POST",url:"http://https://shrouded-brook-95413.herokuapp.com/api/v1/zones",data:e,body:e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),gi(r).then((function(e){var t=e.data;"error"!=t.type?(i(!1),n({type:"success",message:t.message})):(n({type:"error",message:t.message}),i(!1))})).catch((function(e){i(!1),n({type:"error",message:e.message})}))}(a,t),E()):(!function(e,t,a){var n=a.usuario,i=a.mostrarNotificacion,r=a.mostrarLoader,o={method:"PUT",url:Z+"zones/"+e,params:t,data:t,body:t,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(n)).token}};r(!0),gi(o).then((function(e){var t=e.data;"error"!=t.type?(r(!1),i({type:"success",message:t.message})):(i({type:"error",message:t.message}),r(!1))})).catch((function(e){r(!1),i({type:"error",message:e.message})}))}(e.sistema.id,a,t),E()),e.setOpen(!1),e.carga()},children:"Guardar"})]})]})}var yo=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function vo(e){var t=i.a.useContext(ie);return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:yo,keepMounted:!0,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Productos"}),Object(Le.jsx)(Ia.a,{children:Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"\xbfEst\xe1 seguro que desea eliminar el registro?"})}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){!function(e,t){var a=t.usuario,n=(t.cargarUsuario,t.mostrarNotificacion),i=t.mostrarLoader,r={method:"DELETE",url:Z+"zones/"+e,headers:{Accept:"application/json",Authorization:"Bearer "+JSON.parse(ce(a)).token}};i(!0),gi(r).then((function(e){var t=e.data;"error"!=e.data.type?(i(!1),n({type:"success",message:t.message})):(i(!1),n({type:"error",message:t.message}))})).catch((function(e){i(!1),n({type:"success",message:e.message})}))}(e.sistema.id,t),e.setOpen(!1),e.carga()},children:"Eliminar"})]})]})}var Co=i.a.forwardRef((function(e,t){return Object(Le.jsx)(p.a,Object(s.a)({direction:"up",ref:t},e))}));function So(e){i.a.useContext(ie);var t=i.a.useState(""),a=Object(c.a)(t,2),n=(a[0],a[1]),r=i.a.useState([]),o=Object(c.a)(r,2),l=o[0];o[1];return Object(Le.jsxs)(Ba.a,{open:e.open,TransitionComponent:Co,keepMounted:!0,onClose:function(){e.setOpen(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(Le.jsx)(_a.a,{id:"alert-dialog-slide-title",children:"Filtrar productos"}),Object(Le.jsxs)(Ia.a,{children:[Object(Le.jsx)(La.a,{id:"alert-dialog-slide-description",children:"Puede seleccionar filtros anidados"}),Object(Le.jsxs)(j.a,{container:!0,spacing:1,children:[Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una bodega",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una categor\xeda",variant:"outlined",fullWidth:!0}))}})}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(Le.jsx)($a.a,{size:"small",style:{width:"100%"},options:l,value:void 0,getOptionLabel:function(e){return e.name},onChange:function(e,t){n(null!=t?t.id:"")},renderInput:function(e){return Object(Le.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{label:"Seleccione una medida",variant:"outlined",fullWidth:!0}))}})})]})]}),Object(Le.jsxs)(Ta.a,{children:[Object(Le.jsx)(u.a,{onClick:function(){return e.setOpen(!1)},color:"default",children:"Cancelar"}),Object(Le.jsx)(u.a,{color:"primary",onClick:function(){return e.setOpen(!1)},children:"Confirmar"})]})]})}function ko(e){var t=i.a.useContext(ie),a=i.a.useState([]),n=Object(c.a)(a,2),r=n[0],o=n[1],s=i.a.useState(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],p=i.a.useState(!1),O=Object(c.a)(p,2),h=O[0],f=O[1],m=i.a.useState(null),x=Object(c.a)(m,2),g=x[0],y=x[1],C=i.a.useState(null),S=Object(c.a)(C,2),k=S[0],w=S[1],A=i.a.useState(!1),N=Object(c.a)(A,2),z=N[0],R=N[1];i.a.useEffect((function(){null!=t.usuario&&yi(o,t)}),[t.usuario]);var B=function(){yi(o,t),y(null),w(null)};return Object(Le.jsxs)(j.a,{container:!0,spacing:2,children:[Object(Le.jsx)(go,{sistema:g,setSelected:y,setOpen:b,open:d,carga:B}),Object(Le.jsx)(vo,{sistema:k,setOpen:f,open:h,carga:B}),Object(Le.jsx)(So,{setOpen:R,open:z}),Object(Le.jsxs)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h5",children:"Zonas"}),Object(Le.jsx)(u.a,{onClick:function(){return b(!0)},startIcon:Object(Le.jsx)(An.a,{}),variant:"contained",color:"primary",children:"Nuevo"})]}),Object(Le.jsx)(j.a,{item:!0,xs:12,md:12,style:{display:"flex",marginTop:10},children:Object(Le.jsx)(lt.a,{style:{width:300,height:120,marginRight:20,marginBottom:5,borderRadius:12,borderColor:"rgba(0, 0, 0, 0.12)",borderWidth:1,borderStyle:"solid"},elevation:0,children:Object(Le.jsxs)(dt.a,{children:[Object(Le.jsx)(ee.a,{variant:"subtitle1",gutterBottom:!0,children:"Totales"}),Object(Le.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(Le.jsx)(ee.a,{variant:"h4",gutterBottom:!0,children:r.length}),Object(Le.jsx)(v.a,{variant:"rounded",style:{backgroundColor:"rgb(94, 53, 177)",borderRadius:20},children:Object(Le.jsx)(zn.a,{})})]})]})})}),Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Sa.a,{icons:ya,columns:[{title:"Nombre",field:"name"},{title:"Ciudad",field:"city"},{title:"Registro",field:"created_at",type:"datetime"}],data:r,localization:va,actions:[{icon:ya.Edit,tooltip:"Editar",onClick:function(e,t){y(t),b(!0)}},{icon:ya.Delete,tooltip:"Borrar",onClick:function(e,t){w(t),f(!0)}},{icon:ya.Filter,tooltip:"Filtrar",isFreeAction:!0,onClick:function(e){return R(!0)}}],options:{pageSize:10,showTitle:!1,actionsColumnIndex:-1,maxBodyHeight:350,padding:"dense",headerStyle:{textAlign:"left"},cellStyle:{textAlign:"left"},searchFieldStyle:{padding:5}}})})]})}var wo=a(173);function Ao(e){return Object(Le.jsx)(Je.a,Object(s.a)({elevation:6,variant:"filled"},e))}function No(e){var t=Object(n.useContext)(ie),a=(t.usuario,t.notificacion),r=t.mostrarNotificacion,o=t.loader,s=(t.sound,t.playSound,Object(W.g)()),l=Object(n.useState)(wo.a),d=Object(c.a)(l,2),u=d[0],b=(d[1],Object(n.useState)(wo.a)),p=Object(c.a)(b,2),O=p[0],f=(p[1],Object(n.useState)(Object(We.a)({palette:{primary:u,secondary:O,type:"light"}}))),m=Object(c.a)(f,2),x=m[0],g=m[1],y=Object(n.useState)(Object(We.a)({palette:{primary:u,secondary:O,type:"dark"}})),v=Object(c.a)(y,2),C=v[0],S=v[1],k=function(e,t){"clickaway"!==t&&r(null)};i.a.useEffect((function(){null!=a&&setTimeout((function(){r(null)}),3e3)}),[a]);Object(We.a)({palette:{primary:u,secondary:O,type:"light"}}),Object(We.a)({palette:{primary:u,secondary:O,type:"dark"}});i.a.useEffect((function(){g(Object(We.a)({palette:{primary:{main:u[500]},secondary:{main:O.A400},type:"light"}})),S(Object(We.a)({palette:{primary:{main:u[500]},secondary:{main:O.A400},type:"dark"}}))}),[u,O]);var w=x,A=localStorage.getItem("theme"),N=Object(n.useState)(w),z=Object(c.a)(N,2);z[0],z[1];return Object(Le.jsx)(Ue.a,{theme:"dark"==A?C:x,children:Object(Le.jsxs)(i.a.Fragment,{children:[Object(Le.jsx)(Me.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:null!=a,autoHideDuration:6e3,onClose:k,children:Object(Le.jsx)(Ao,{onClose:k,severity:null!=a?a.type:"success",children:null!=a?a.message:""})}),0!=o?Object(Le.jsx)(Ge.a,{style:{zIndex:9999},color:"secondary"}):null,Object(Le.jsx)(h.a,{}),Object(Le.jsx)(j.a,{container:!0,style:{flexGrow:1},children:Object(Le.jsx)(j.a,{item:!0,xs:12,children:Object(Le.jsx)(Fe,{history:s,children:Object(Le.jsx)(Ee.a,{component:"main",children:Object(Le.jsxs)(W.d,{children:[Object(Le.jsx)(W.b,{exact:!0,path:"/login",component:ct}),Object(Le.jsx)(W.b,{exact:!0,path:"/panel",component:kn}),Object(Le.jsx)(W.b,{exact:!0,path:"/compras",component:pi}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/productos",component:xi}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/bodegas",component:Ni}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/proveedores",component:Ii}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/inventario",component:Wi}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/transferencias",component:Yi}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/ajustes",component:rr}),Object(Le.jsx)(W.b,{exact:!0,path:"/facturas",component:kr}),Object(Le.jsx)(W.b,{exact:!0,path:"/laboratorios",component:Ni}),Object(Le.jsx)(W.b,{exact:!0,path:"/zonas",component:ko}),Object(Le.jsx)(W.b,{exact:!0,path:"/clientes",component:Rr}),Object(Le.jsx)(W.b,{exact:!0,path:"/personal",component:Er}),Object(Le.jsx)(W.b,{exact:!0,path:"/inventario/kardex",component:Wr}),Object(Le.jsx)(W.b,{exact:!0,path:"/reporte",component:Zr}),Object(Le.jsx)(W.b,{exact:!0,path:"/roles",component:ro}),Object(Le.jsx)(W.b,{exact:!0,path:"/cajas",component:fo}),Object(Le.jsx)(W.b,{render:function(){return Object(Le.jsx)(W.a,{to:"/panel"})}})]})})})})})]})})}var zo=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,834)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))},Ro=a(128),Bo="CARGAR_USUARIO",To="LOGOUT",Io="MOSTRAR_NOTIFICACION",Lo="MOSTRAR_LOADER",_o="PLAY_SOUND",Fo=function(e,t){switch(t.type){case Bo:return Object(s.a)(Object(s.a)({},e),{},{usuario:t.payload});case To:return Object(s.a)(Object(s.a)({},e),{},{usuario:null});case Io:return Object(s.a)(Object(s.a)({},e),{},{notificacion:t.payload});case _o:return Object(s.a)(Object(s.a)({},e),{},{sound:t.payload});case Lo:return Object(s.a)(Object(s.a)({},e),{},{loader:t.payload});default:return e}};function Eo(e){var t=Object(W.g)(),a=i.a.useContext(ie),n=a.usuario,r=a.cargarUsuario;return i.a.useEffect((function(){if(null==n){var e=localStorage.getItem("auth");null!=e?r(e):"/login"!=t.location.pathname&&t.push("/login")}else window.location.href="/panel"}),[]),e.children}var Po=function(e){var t=Object(n.useReducer)(Fo,{usuario:null,notificacion:null,loader:!1,sound:null}),a=Object(c.a)(t,2),i=a[0],r=a[1];return Object(Le.jsx)(ie.Provider,{value:{sound:i.sound,playSound:function(e){r({type:_o,payload:e})},usuario:i.usuario,notificacion:i.notificacion,mostrarNotificacion:function(e){r({type:Io,payload:e})},loader:i.loader,mostrarLoader:function(e){r({type:Lo,payload:e})},cargarUsuario:function(e){r({type:Bo,payload:e})},logout:function(){r({type:To})}},children:Object(Le.jsx)(Eo,{children:e.children})})};o.a.render(Object(Le.jsx)(Ro.a,{children:Object(Le.jsx)(Po,{children:Object(Le.jsx)(No,{})})}),document.getElementById("root")),zo()}},[[615,1,2]]]);
//# sourceMappingURL=main.9c6ca208.chunk.js.map